{"version":3,"sources":["pages/orderinfo.module.css","pages/home.module.css","pages/profile.module.css","components/modal-overlay/modal-overlay.module.css","pages/feed.module.css","components/ordercard/ordercard.module.css","components/ingredient-details/ingredient-details.module.css","components/app-header/app-header.module.css","components/burger-constructor/burger-constructor.module.css","services/actions/auth.ts","utils/api.ts","services/actions/ws.ts","services/reducers/order.ts","services/reducers/auth.ts","services/actions/feed.ts","services/reducers/feed.ts","services/reducers/ws.ts","services/reducers/index.ts","services/actions/index.ts","services/actions/order.ts","services/store.ts","services/wsMiddleware.ts","components/protected-route.tsx","pages/forgot-password.tsx","components/modal-overlay/modal-overlay.tsx","components/modal/modal.tsx","components/ingredient-details/ingredient-details.tsx","components/burger-ingredient/burger-ingredient.tsx","components/ingredient-category/ingredient-category.tsx","components/burger-ingredients/burger-ingredients.tsx","components/order-details/order-details.tsx","components/burger-element/burger-element.tsx","components/loader/loader.tsx","components/burger-constructor/burger-constructor.tsx","pages/home.tsx","pages/login.tsx","pages/register.tsx","utils/functions.ts","components/ordercard/ordercard.tsx","components/statslist/statslist.tsx","pages/feed.tsx","pages/reset-password.tsx","pages/orders.tsx","pages/editprofile.tsx","pages/profile.tsx","components/details-page/details-page.tsx","components/app-header/app-header.tsx","pages/orderinfo.tsx","components/app/app.tsx","index.tsx","pages/login.module.css","components/burger-ingredients/burger-ingredients.module.css","pages/register.module.css","pages/forgotpassword.module.css","pages/resetpassword.module.css","components/order-details/order-details.module.css","components/modal/modal.module.css","components/ingredient-category/ingredient-category.module.css","components/loader/loader.module.css","components/statslist/statslist.module.css","components/details-page/details-page.module.css","components/app/app.module.css"],"names":["module","exports","getUserInfo","dispatch","type","apiUserRequest","catch","err","message","refreshTokenAction","then","res","success","user","finally","apiRefreshToken","localStorage","getItem","accessToken","split","deleteCookie","removeItem","setCookie","setItem","refreshToken","fin","fetch","concat","baseUrl","method","headers","Authorization","getCookie","checkResponse","name","value","props","exp","expires","d","Date","setTime","getTime","toUTCString","updatedCookie","encodeURIComponent","propName","propValue","document","cookie","matches","match","RegExp","replace","decodeURIComponent","undefined","_regeneratorRuntime","Op","Object","prototype","hasOwn","hasOwnProperty","defineProperty","obj","key","desc","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","call","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","_invoke","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","record","result","__await","unwrapped","error","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","return","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","displayName","isGeneratorFunction","genFun","ctor","constructor","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","ok","json","fetchData","_ref","_asyncToGenerator","_callee","_context","apply","arguments","apiPostOrder","_ref2","_callee2","orderData","_context2","body","JSON","stringify","ingredients","_x","apiPasswordReset","_ref5","_callee5","email","_context5","_x3","apiPasswordSave","_ref6","_callee6","password","token","_context6","_x4","_x5","apiLoginUser","_ref7","_callee7","_context7","_x6","_x7","apiLogoutUser","_ref8","_callee8","_context8","_x8","apiRegisterUser","_ref9","_callee9","_context9","_x9","_x10","_x11","_ref10","_callee10","_context10","mode","cache","credentials","redirect","referrerPolicy","_ref11","_callee11","_context11","_x12","apiUpdateUser","_ref12","_callee12","_context12","_x13","_x14","wsConnectionStartAction","wsUrl","initialOrderState","isLoading","hasError","isModalOpen","orderRequest","orderLoaded","orderFailed","order","orders","currentOrder","orderNum","initialUserState","isUserAuthorized","isAuthChecked","isTokenUpdated","isForgotPassword","selectOrderAction","isOrderInfoOpen","inProgress","initialWsState","wsConnected","total","totalToday","loading","initialConstructorState","data","burgerIngredients","bun","fillings","isIngredientModal","currentIngredient","image","calories","proteins","fat","carbohydrates","rootReducer","combineReducers","action","_objectSpread","constr","ingredientAmount","filter","item","_id","_toConsumableArray","map","added","count","_action$item","splice","toIndex","fromIndex","ingr","ord","feed","ws","actions","wsStart","onOpen","onClose","onError","onOrders","onSendOrders","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","store","socket","payload","WebSocket","onopen","onerror","event","onmessage","_socket","parse","close","onclose","send","wsMiddleware","createStore","useDispatch","dispatchHook","useSelector","selectorHook","ProtectedRoute","children","rest","_objectWithoutProperties","_excluded","useEffect","React","createElement","Route","assign","render","location","Redirect","to","pathname","from","ForgotPasswordPage","history","useHistory","_useState","useState","_useState2","_slicedToArray","emailValue","setEmailValue","isforgotPassword","redirectOnSuccess","resetUserPassword","e","redirectFunc","preventDefault","console","log","className","styles","container","title","form","onSubmit","EmailInput","onChange","target","button","Button","htmlType","size","textcontainer","text","Link","activetext","ModalOverlay","modaloverlay","onClick","modalsContainer","querySelector","Modal","handleEscKeydown","addEventListener","removeEventListener","ReactDOM","createPortal","Fragment","modal","ordermodal","closebutton","CloseIcon","IngredientDetails","setIngredient","id","useParams","find","el","src","alt","nutrient","number","BurgerIngredient","modalOpen","useLocation","_useSelector","buncount","_useDrag","useDrag","dragRef","background","link","optioncard","openIngredient","openCurrentIngredient","ref","Counter","optiontext","goBack","IngredientCategory","forwardRef","optionscards","index","BurgerIngredients","current","setCurrent","bunsArr","mainArr","sauceArr","containerRef","useRef","bunsRef","sauceRef","mainRef","onTabClick","tab","categoryRef","scroll","behavior","top","offsetTop","ingridients","optionselection","Tab","active","options","onScroll","bunDistance","Math","abs","getBoundingClientRect","sauceDistance","mainDistance","minDistance","min","currentHeader","prevState","smallsection","OrderDetails","subtitle","check","BurgerElement","collect","monitor","isDrag","isDragging","_useDrag2","drag","_useDrop","useDrop","accept","hover","dragIndex","hoverIndex","elementPos","elementMiddle","bottom","userCursorOffset","getClientOffset","y","opacity","drop","component","style","DragIcon","ConstructorElement","price","thumbnail","handleClose","Loader","ldsring","hidden","BurgerConstructor","totalPrice","setTotalPrice","userName","content","dropHandler","uuidv4","addItem","addBun","onDropHandler","isOver","canDrop","_useDrop2","_useDrop2$","dropTarget","bunsPrice","bunIdArr","Array","reduce","acc","components","subtitlebun","role","aria-label","subtitlemain","isLocked","componentlist","deleteItem","deleteHandler","CurrencyIcon","postOrderSuccess","openOrderModal","HomePage","LoginPage","_useState3","_useState4","passwordValue","setPasswordValue","login","PasswordInput","RegisterPage","_useState5","_useState6","nameValue","setNameValue","onRegisterClick","useCallback","Input","placeholder","errorText","editDate","date","createdAt","today","setHours","days","diffTime","ceil","hours","getHours","getMinutes","getTimezoneOffset","OrderCard","_props$order","_props$order2","_props$order3","_props$order4","_props$order5","_props$order6","_props$order7","_props$order8","_props$order9","_props$order10","ingrData","url","useRouteMatch","setPrice","setCount","images","setImages","dateString","targetImages","ingredient","_ingrData","_ingrData2","targetIngredients","_ingrData3","orderid","timestamp","burgername","status","ready","componentandprice","left","imageQuantity","zIndex","digits","StatsList","list","element","FeedPage","arr","statusArrays","curr","pending","doneArray","pendingArray","ordernums","completed","types","subtitledone","digitslarge","ResetPasswordPage","codeValue","setCodeValue","saveUserPassword","code","Orders","reversedorders","EditProfile","isValueChanged","setState","userLogin","userPassword","onSave","input","icon","emailinput","visible","ProfilePage","path","isHistoryLinkActive","setHistoryLinkActive","navblock","navigation","NavLink","exact","activeClassName","textactive","footer","disabledsubtext","subtext","Switch","DetailsPage","AppHeader","header","headernavigation","headernav","BurgerIcon","ListIcon","headerlogo","Logo","ProfileIcon","OrderInfoPage","wsAuthUrl","uniqueArr","mp","has","set","get","Map","ordernum","ingredientsblock","null","imgcontainer","img","textname","smallprice","footerprice","App","closeAllModals","page","Provider","DndProvider","backend","HTML5Backend","BrowserRouter","basename","process","getElementById"],"mappings":"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","file":"static/js/main.53bae1f4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"orderinfo_content__1t2Y2\",\"ordernum\":\"orderinfo_ordernum__29tJe\",\"id\":\"orderinfo_id__DnC4N\",\"subtext\":\"orderinfo_subtext__3ukT9\",\"ingredientsblock\":\"orderinfo_ingredientsblock__1Cfvn\",\"ingredients\":\"orderinfo_ingredients__2L8gH\",\"ingredient\":\"orderinfo_ingredient__1HYpk\",\"text\":\"orderinfo_text__HkyTH\",\"textname\":\"orderinfo_textname__2fN6_\",\"price\":\"orderinfo_price__1Goeg\",\"smallprice\":\"orderinfo_smallprice__1lb69\",\"footerprice\":\"orderinfo_footerprice__9K1xI\",\"footer\":\"orderinfo_footer__2mQPV\",\"imgcontainer\":\"orderinfo_imgcontainer__755Cs\",\"img\":\"orderinfo_img__2PdeB\",\"burgername\":\"orderinfo_burgername__aCZzV\",\"subtitle\":\"orderinfo_subtitle__278x1\",\"timestamp\":\"orderinfo_timestamp__3BH58\",\"null\":\"orderinfo_null__2RJwq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"home_content__3K8uQ\",\"text\":\"home_text__29DCP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"profile_container__L_OtZ\",\"content\":\"profile_content__1K22N\",\"navblock\":\"profile_navblock__2QBjG\",\"navigation\":\"profile_navigation__1pFYK\",\"text\":\"profile_text__1BW8w\",\"textactive\":\"profile_textactive__1NCVE\",\"form\":\"profile_form__1yxrZ\",\"footer\":\"profile_footer__1JuVR\",\"subtext\":\"profile_subtext__3pRhq\",\"disabledsubtext\":\"profile_disabledsubtext__1u1Ov\",\"hidden\":\"profile_hidden__1w0K4\",\"visible\":\"profile_visible__3F_Ce\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modaloverlay\":\"modal-overlay_modaloverlay__sRyNF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"feed_title__IPF6K\",\"content\":\"feed_content__3dS9Z\",\"orders\":\"feed_orders__11DpH\",\"ordernums\":\"feed_ordernums__1oSge\",\"completed\":\"feed_completed__2Z242\",\"types\":\"feed_types__t-cRa\",\"type\":\"feed_type__1XqZZ\",\"subtitle\":\"feed_subtitle__3UYN2\",\"subtitledone\":\"feed_subtitledone__2pE5w\",\"digitslarge\":\"feed_digitslarge__8h302\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"order\":\"ordercard_order__2Kj7y\",\"link\":\"ordercard_link__1bY4m\",\"orderid\":\"ordercard_orderid__2ISgV\",\"id\":\"ordercard_id__sod1z\",\"timestamp\":\"ordercard_timestamp__2kD4U\",\"burgername\":\"ordercard_burgername__1k5-U\",\"ready\":\"ordercard_ready__IGthO\",\"componentandprice\":\"ordercard_componentandprice__P8uo6\",\"ingredients\":\"ordercard_ingredients__1BgB3\",\"container\":\"ordercard_container__3ArzB\",\"image\":\"ordercard_image__1c0q5\",\"count\":\"ordercard_count__XlYh2\",\"price\":\"ordercard_price__DFZ6q\",\"digits\":\"ordercard_digits__1YTnp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"ingredient-details_title__2_5MB\",\"image\":\"ingredient-details_image__H2-xP\",\"name\":\"ingredient-details_name__3OKTo\",\"values\":\"ingredient-details_values__cAW0Z\",\"value\":\"ingredient-details_value__1gWzK\",\"nutrient\":\"ingredient-details_nutrient__DIrQw\",\"number\":\"ingredient-details_number__1j5Vj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"app-header_header__1iHLW\",\"headernavigation\":\"app-header_headernavigation__24aBe\",\"headernav\":\"app-header_headernav__3sNmC\",\"link\":\"app-header_link__2y8TU\",\"headerlogo\":\"app-header_headerlogo__26zum\",\"icon\":\"app-header_icon__26FIh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"components\":\"burger-constructor_components__10ND2\",\"componentlist\":\"burger-constructor_componentlist__2p_EI\",\"component\":\"burger-constructor_component__acrLz\",\"total\":\"burger-constructor_total__2z4fk\",\"button\":\"burger-constructor_button__3bxLu\",\"text\":\"burger-constructor_text__1C_uq\",\"subtitle\":\"burger-constructor_subtitle__1RShU\",\"subtitlebun\":\"burger-constructor_subtitlebun__1ATci\",\"subtitlemain\":\"burger-constructor_subtitlemain__QgnFs\",\"modal\":\"burger-constructor_modal__1d3mp\",\"visible\":\"burger-constructor_visible__RN-qV\",\"hidden\":\"burger-constructor_hidden__1azA3\"};","import {\n  apiLoginUser,\n  apiLogoutUser,\n  apiRegisterUser,\n  apiUpdateUser,\n  apiUserRequest,\n  apiRefreshToken,\n  apiPasswordReset,\n  apiPasswordSave,\n  checkResponse,\n  baseUrl,\n} from \"../../utils/api\";\n\nimport {\n  ILoginRequest,\n  ILoginSuccess,\n  ILoginFailed,\n  ILogoutRequest,\n  ILogoutSuccess,\n  ILogoutFailed,\n  IUpdateRequest,\n  IUpdateSuccess,\n  IUpdateFailed,\n  IRegisterRequest,\n  IRegisterSuccess,\n  IRegisterFailed,\n  IGetUserInfoRequest,\n  IGetUserInfoSuccess,\n  IGetUserInfoFailed,\n  IAuthChecked,\n  IRefreshTokenRequest,\n  IRefreshTokenSuccess,\n  IRefreshTokenFailed,\n  IResetPasswordRequest,\n  IResetPasswordSuccess,\n  IResetPasswordFailed,\n  ISavePasswordRequest,\n  ISavePasswordSuccess,\n  ISavePasswordFailed,\n  AppThunk,\n  TUser,\n} from \"../store\";\n\nexport const LOGIN_REQUEST: \"LOGIN_REQUEST\" = \"LOGIN_REQUEST\";\nexport const LOGIN_SUCCESS: \"LOGIN_SUCCESS\" = \"LOGIN_SUCCESS\";\nexport const LOGIN_FAILED: \"LOGIN_FAILED\" = \"LOGIN_FAILED\";\nexport const REGISTER_REQUEST: \"REGISTER_REQUEST\" = \"REGISTER_REQUEST\";\nexport const REGISTER_SUCCESS: \"REGISTER_SUCCESS\" = \"REGISTER_SUCCESS\";\nexport const REGISTER_FAILED: \"REGISTER_FAILED\" = \"REGISTER_FAILED\";\nexport const GET_USERINFO_REQUEST: \"GET_USERINFO_REQUEST\" =\n  \"GET_USERINFO_REQUEST\";\nexport const GET_USERINFO_SUCCESS: \"GET_USERINFO_SUCCESS\" =\n  \"GET_USERINFO_SUCCESS\";\nexport const GET_USERINFO_FAILED: \"GET_USERINFO_FAILED\" = \"GET_USERINFO_FAILED\";\nexport const REFRESH_TOKEN_REQUEST: \"REFRESH_TOKEN_REQUEST\" =\n  \"REFRESH_TOKEN_REQUEST\";\nexport const REFRESH_TOKEN_SUCCESS: \"REFRESH_TOKEN_SUCCESS\" =\n  \"REFRESH_TOKEN_SUCCESS\";\nexport const REFRESH_TOKEN_FAILED: \"REFRESH_TOKEN_FAILED\" =\n  \"REFRESH_TOKEN_FAILED\";\nexport const RESET_PASSWORD_REQUEST: \"RESET_PASSWORD_REQUEST\" =\n  \"RESET_PASSWORD_REQUEST\";\nexport const RESET_PASSWORD_SUCCESS: \"RESET_PASSWORD_SUCCESS\" =\n  \"RESET_PASSWORD_SUCCESS\";\nexport const RESET_PASSWORD_FAILED: \"RESET_PASSWORD_FAILED\" =\n  \"RESET_PASSWORD_FAILED\";\nexport const SAVE_PASSWORD_REQUEST: \"SAVE_PASSWORD_REQUEST\" =\n  \"SAVE_PASSWORD_REQUEST\";\nexport const SAVE_PASSWORD_SUCCESS: \"SAVE_PASSWORD_SUCCESS\" =\n  \"SAVE_PASSWORD_SUCCESS\";\nexport const SAVE_PASSWORD_FAILED: \"SAVE_PASSWORD_FAILED\" =\n  \"SAVE_PASSWORD_FAILED\";\nexport const LOGOUT_REQUEST: \"LOGOUT_REQUEST\" = \"LOGOUT_REQUEST\";\nexport const LOGOUT_SUCCESS: \"LOGOUT_SUCCESS\" = \"LOGOUT_SUCCESS\";\nexport const LOGOUT_FAILED: \"LOGOUT_FAILED\" = \"LOGOUT_FAILED\";\nexport const UPDATE_REQUEST: \"UPDATE_REQUEST\" = \"UPDATE_REQUEST\";\nexport const UPDATE_SUCCESS: \"UPDATE_SUCCESS\" = \"UPDATE_SUCCESS\";\nexport const UPDATE_FAILED: \"UPDATE_FAILED\" = \"UPDATE_FAILED\";\nexport const AUTH_CHECKED: \"AUTH_CHECKED\" = \"AUTH_CHECKED\";\n\nconst loginRequest = (): ILoginRequest => ({\n  type: LOGIN_REQUEST,\n});\n\nconst loginSuccess = (user: TUser): ILoginSuccess => ({\n  type: LOGIN_SUCCESS,\n  user,\n});\n\nconst loginFailed = (): ILoginFailed => ({\n  type: LOGIN_FAILED,\n});\n\nconst logoutRequest = (): ILogoutRequest => ({\n  type: LOGOUT_REQUEST,\n});\n\nconst logoutSuccess = (): ILogoutSuccess => ({\n  type: LOGOUT_SUCCESS,\n});\n\nconst logoutFailed = (): ILogoutFailed => ({\n  type: LOGOUT_FAILED,\n});\n\nconst updateRequest = (): IUpdateRequest => ({\n  type: UPDATE_REQUEST,\n});\n\nconst updateSuccess = (user: TUser): IUpdateSuccess => ({\n  type: UPDATE_SUCCESS,\n  user,\n});\n\nconst updateFailed = (): IUpdateFailed => ({\n  type: UPDATE_FAILED,\n});\n\nconst registerRequest = (): IRegisterRequest => ({\n  type: REGISTER_REQUEST,\n});\n\nconst registerSuccess = (user: TUser): IRegisterSuccess => ({\n  type: REGISTER_SUCCESS,\n  user,\n});\n\nconst registerFailed = (): IRegisterFailed => ({\n  type: REGISTER_FAILED,\n});\n\nconst getUserInfoRequest = (): IGetUserInfoRequest => ({\n  type: GET_USERINFO_REQUEST,\n});\n\nconst getUserInfoSuccess = (user: TUser): IGetUserInfoSuccess => ({\n  type: GET_USERINFO_SUCCESS,\n  user,\n});\n\nconst getUserInfoFailed = (): IGetUserInfoFailed => ({\n  type: GET_USERINFO_FAILED,\n});\n\nconst checkAuth = (): IAuthChecked => ({\n  type: AUTH_CHECKED,\n});\n\nconst refreshTokenRequest = (): IRefreshTokenRequest => ({\n  type: REFRESH_TOKEN_REQUEST,\n});\n\nconst refreshTokenSuccess = (): IRefreshTokenSuccess => ({\n  type: REFRESH_TOKEN_SUCCESS,\n});\n\nconst refreshTokenFailed = (): IRefreshTokenFailed => ({\n  type: REFRESH_TOKEN_FAILED,\n});\n\nconst resetPasswordRequest = (): IResetPasswordRequest => ({\n  type: RESET_PASSWORD_REQUEST,\n});\n\nconst resetPasswordSuccess = (): IResetPasswordSuccess => ({\n  type: RESET_PASSWORD_SUCCESS,\n});\n\nconst resetPasswordFailed = (): IResetPasswordFailed => ({\n  type: RESET_PASSWORD_FAILED,\n});\n\nconst savePasswordRequest = (): ISavePasswordRequest => ({\n  type: SAVE_PASSWORD_REQUEST,\n});\n\nconst savePasswordSuccess = (): ISavePasswordSuccess => ({\n  type: SAVE_PASSWORD_SUCCESS,\n});\n\nconst savePasswordFailed = (): ISavePasswordFailed => ({\n  type: SAVE_PASSWORD_FAILED,\n});\n\nexport const loginUser: AppThunk =\n  (email: string, password: string) => (dispatch) => {\n    dispatch(loginRequest());\n    apiLoginUser(email, password)\n      .then((res) => {\n        if (res && res.success) {\n          dispatch(loginSuccess(res.user));\n          const accessToken = res.accessToken.split(\"Bearer \")[1];\n          const refreshToken = res.refreshToken;\n          setCookie(\"token\", accessToken, {});\n          localStorage.setItem(\"refreshToken\", refreshToken);\n        } else {\n          dispatch(loginFailed());\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\nexport const logoutUser: AppThunk = () => (dispatch) => {\n  dispatch(logoutRequest());\n  apiLogoutUser(localStorage.getItem(\"refreshToken\")!)\n    .then((res) => {\n      if (res && res.success) {\n        dispatch(logoutSuccess());\n        deleteCookie(\"token\");\n        localStorage.removeItem(\"refreshToken\");\n      } else {\n        dispatch(logoutFailed());\n      }\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\nexport const updateUser: AppThunk =\n  (email: string, name: string) => (dispatch) => {\n    dispatch(updateRequest());\n    apiUpdateUser(email, name)\n      .then((res) => {\n        if (res && res.success) {\n          dispatch(updateSuccess(res.user));\n        } else {\n          dispatch(updateFailed());\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\nexport const registerUser: AppThunk =\n  (name: string, email: string, password: string, redirectFunc: () => void) =>\n  (dispatch) => {\n    dispatch(registerRequest());\n    apiRegisterUser(name, email, password)\n      .then((res) => {\n        if (res.success) {\n          dispatch(registerSuccess(res.user));\n          const accessToken = res.accessToken.split(\"Bearer \")[1];\n          const refreshToken = res.refreshToken;\n          setCookie(\"token\", accessToken, {});\n          localStorage.setItem(\"refreshToken\", refreshToken);\n          redirectFunc();\n        } else {\n          dispatch(registerFailed());\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\nexport const getUserInfo: AppThunk = () => (dispatch) => {\n  dispatch(getUserInfoRequest());\n  apiUserRequest()\n    .catch((err) => {\n      if (err && err.message === \"jwt expired\") {\n        refreshTokenAction();\n      }\n    })\n    .then((res) => {\n      if (res && res.success) {\n        dispatch(getUserInfoSuccess(res.user));\n      } else {\n        dispatch(getUserInfoFailed());\n      }\n    })\n    .finally(() => {\n      dispatch(checkAuth());\n    });\n};\n\nexport const refreshTokenAction: AppThunk = () => (dispatch) => {\n  dispatch(refreshTokenRequest());\n  apiRefreshToken(localStorage.getItem(\"refreshToken\")!)\n    .then((res) => {\n      if (res && res.success) {\n        const accessToken = res.accessToken.split(\"Bearer \")[1];\n\n        deleteCookie(\"token\");\n        localStorage.removeItem(\"refreshToken\");\n\n        setCookie(\"token\", accessToken, {});\n        localStorage.setItem(\"refreshToken\", res.refreshToken);\n        dispatch(refreshTokenSuccess());\n      } else {\n        dispatch(refreshTokenFailed());\n      }\n      return res;\n    })\n    .then((fin) => {\n      return fetch(`${baseUrl}auth/user`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + getCookie(\"token\"),\n        },\n      });\n    })\n    .then((res) => checkResponse(res))\n    .finally(() => {\n      dispatch(checkAuth());\n    });\n};\n\nexport const resetPassword: AppThunk =\n  (email: string, redirectFunc: () => void) => (dispatch) => {\n    dispatch(resetPasswordRequest());\n    apiPasswordReset(email)\n      .then((res) => {\n        if (res && res.success) {\n          dispatch(resetPasswordSuccess());\n          redirectFunc();\n        } else {\n          dispatch(resetPasswordFailed());\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\nexport const savePassword: AppThunk =\n  (password: string, code: string, redirectFunc: () => void) =>\n  (dispatch) => {\n    dispatch(savePasswordRequest());\n    apiPasswordSave(password, code)\n      .then((res) => {\n        if (res && res.success) {\n          dispatch(savePasswordSuccess());\n          redirectFunc();\n        } else {\n          dispatch(savePasswordFailed());\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\nexport function setCookie(\n  name: string,\n  value: string | number | boolean,\n  props: any\n) {\n  props = props || {};\n  let exp = props.expires;\n  if (typeof exp == \"number\" && exp) {\n    const d = new Date();\n    d.setTime(d.getTime() + exp * 1000);\n    exp = props.expires = d;\n  }\n  if (exp && exp.toUTCString) {\n    props.expires = exp.toUTCString();\n  }\n  value = encodeURIComponent(value);\n  let updatedCookie = name + \"=\" + value;\n  for (const propName in props) {\n    updatedCookie += \"; \" + propName;\n    const propValue = props[propName];\n    if (propValue !== true) {\n      updatedCookie += \"=\" + propValue;\n    }\n  }\n  document.cookie = updatedCookie;\n}\n\nexport const getCookie = (name: string) => {\n  const matches = document.cookie.match(\n    new RegExp(\n      \"(?:^|; )\" +\n        name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, \"\\\\$1\") +\n        \"=([^;]*)\"\n    )\n  );\n  return matches ? decodeURIComponent(matches[1]) : undefined;\n};\n\nexport function deleteCookie(name: string) {\n  setCookie(name, \"\", { expires: -1 });\n}\n","import {\n  getCookie\n} from \"../services/actions/auth\";\n\nexport const baseUrl = \"https://norma.nomoreparties.space/api/\";\n\nexport function checkResponse(res: Response) {\n  if (res.ok) {\n    return res.json();\n  }\n  return res.json().then(err => Promise.reject(err));\n}\n\nexport const fetchData = async () => {\n  return fetch(`${baseUrl}ingredients`).then((res) => checkResponse(res));\n};\n\nexport const apiPostOrder = async (orderData: string[]) => {\n  return await fetch(`${baseUrl}orders`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: 'Bearer ' + getCookie(\"token\"),\n    },\n    body: JSON.stringify({\n      ingredients: orderData,\n    }),\n  }).then((res) => checkResponse(res));\n};\n\nexport const apiGetOrders = async () => {\n  return await fetch(`${baseUrl}orders`, {\n    method: 'GET',\n    mode: 'cors',\n    cache: 'no-cache',\n    credentials: 'same-origin',\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: 'Bearer ' + getCookie(\"token\"),\n    },\n    redirect: 'follow',\n    referrerPolicy: 'no-referrer',\n  }).then((res) => checkResponse(res));\n};\n\nexport const apiGetUserOrder = async (id:string) => {\n  return await fetch(`${baseUrl}orders/${id}`, {\n    method: 'GET',\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: 'Bearer ' + getCookie(\"token\"),\n    },\n  }).then((res) => checkResponse(res))\n};\n\n\nexport const apiPasswordReset = async (email:string) => {\n  return await fetch(`${baseUrl}password-reset`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({\n      email: email,\n    }),\n  }).then((res) => checkResponse(res));\n};\n\nexport const apiPasswordSave = async (password:string, token:string) => {\n  return await fetch(`${baseUrl}password-reset/reset`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({\n      password: password,\n      token: token,\n    }),\n  }).then((res) => checkResponse(res));\n};\n\nexport const apiLoginUser = async (email:string, password:string) => {\n  return await fetch(`${baseUrl}auth/login`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({\n      email: email,\n      password: password,\n    }),\n  }).then((res) => checkResponse(res));\n};\n\nexport const apiLogoutUser = async (token:string) => {\n  return await fetch(`${baseUrl}auth/logout`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      token: token,\n    }),\n  }).then((res) => checkResponse(res));\n};\n\nexport const apiRegisterUser = async (name:string, email:string, password:string) => {\n  return await fetch(`${baseUrl}auth/register`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({\n      email: email,\n      password: password,\n      name: name,\n    }),\n  }).then((res) => checkResponse(res));\n};\n\nexport const apiUserRequest = async () => {\n  return await fetch(`${baseUrl}auth/user`, {\n    method: \"GET\",\n    mode: \"cors\",\n    cache: \"no-cache\",\n    credentials: \"same-origin\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + getCookie(\"token\"),\n    },\n    redirect: \"follow\",\n    referrerPolicy: \"no-referrer\",\n  }).then((res) => checkResponse(res))\n};\n\nexport const apiRefreshToken = async (refreshToken:string) => {\n  return await fetch(`${baseUrl}auth/token`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      token: refreshToken,\n    }),\n  }).then((res) => checkResponse(res));\n};\n\nexport const apiUpdateUser = async (email:string, name:string) => {\n  return await fetch(`${baseUrl}auth/user`, {\n    method: \"PATCH\",\n    headers: {\n      \"Content-Type\": \"application/json;charset=utf-8\",\n      Authorization: \"Bearer \" + getCookie(\"token\"),\n    },\n    body: JSON.stringify({ email, name }),\n  }).then((res) => checkResponse(res));\n};","import { TResponse } from \"../reducers/ws\";\n\nexport const WS_CONNECTION_CLOSED: \"WS_CONNECTION_CLOSED\" =\n  \"WS_CONNECTION_CLOSED\";\nexport const WS_CONNECTION_ERROR: \"WS_CONNECTION_ERROR\" = \"WS_CONNECTION_ERROR\";\nexport const WS_CONNECTION_START: \"WS_CONNECTION_START\" = \"WS_CONNECTION_START\";\nexport const WS_CONNECTION_SUCCESS: \"WS_CONNECTION_SUCCESS\" =\n  \"WS_CONNECTION_SUCCESS\";\nexport const WS_GET_ORDERS: \"WS_GET_ORDERS\" = \"WS_GET_ORDERS\";\nexport const WS_SEND_ORDER: \"WS_SEND_ORDER\" = \"WS_SEND_ORDER\";\n\nexport interface IWsConnectionStart {\n  readonly type: typeof WS_CONNECTION_START;\n  wsUrl: string;\n}\n\nexport interface IWsConnectionSuccess {\n  readonly type: typeof WS_CONNECTION_SUCCESS;\n}\n\nexport interface IWsConnectionError {\n  readonly type: typeof WS_CONNECTION_ERROR;\n  error: Event;\n}\n\nexport interface IWsConnectionClosed {\n  readonly type: typeof WS_CONNECTION_CLOSED;\n}\n\nexport interface IWsConnectionGetOrders {\n  readonly type: typeof WS_GET_ORDERS;\n  orders: TResponse;\n}\n\nexport interface IWsConnectionSendOrder {\n  readonly type: typeof WS_SEND_ORDER;\n  order: string[];\n}\n\nexport type TWSActions =\n  | IWsConnectionStart\n  | IWsConnectionSuccess\n  | IWsConnectionError\n  | IWsConnectionClosed\n  | IWsConnectionGetOrders\n  | IWsConnectionSendOrder;\n\nexport const wsConnectionStartAction = (wsUrl: string): IWsConnectionStart => {\n  return {\n    type: WS_CONNECTION_START,\n    wsUrl,\n  };\n};\n\nexport const wsConnectionSuccessAction = (): IWsConnectionSuccess => {\n  return {\n    type: WS_CONNECTION_SUCCESS,\n  };\n};\n\nexport const wsConnectionErrorAction = (error: Event): IWsConnectionError => {\n  return {\n    type: WS_CONNECTION_ERROR,\n    error: error,\n  };\n};\n\nexport const wsConnectionClosedAction = (): IWsConnectionClosed => {\n  return {\n    type: WS_CONNECTION_CLOSED,\n  };\n};\n\nexport const wsConnectionGetOrdersAction = (\n  orders: TResponse\n): IWsConnectionGetOrders => {\n  return {\n    type: WS_GET_ORDERS,\n    orders: orders,\n  };\n};\n\nexport const wsConnectionSendOrderAction = (\n  order: string[]\n): IWsConnectionSendOrder => {\n  return {\n    type: WS_SEND_ORDER,\n    order: order,\n  };\n};\n\nexport type TActions = {\n  wsStart: typeof WS_CONNECTION_START;\n  onOpen: typeof WS_CONNECTION_SUCCESS;\n  onError: typeof WS_CONNECTION_ERROR;\n  onOrders: typeof WS_GET_ORDERS;\n  onClose: typeof WS_CONNECTION_CLOSED;\n  onSendOrders: typeof WS_SEND_ORDER;\n};\n","import { TOrder } from \"../../utils/types\";\nimport { POST_ORDER_REQUEST, POST_ORDER_SUCCESS, POST_ORDER_FAILED, CLOSE_ORDER_MODAL, GET_ORDER_REQUEST, GET_ORDER_SUCCESS, GET_ORDER_FAILED, GET_USER_ORDER_REQUEST, GET_USER_ORDER_SUCCESS, GET_USER_ORDER_FAILED  } from \"../actions/order\";\nimport { TOrderActions } from \"../actions/order\";\n\nexport const initialOrderState:TInitialOrderState = {\n  isLoading: false,\n  hasError: false,\n  isModalOpen: false,\n  orderRequest: false,\n  orderLoaded: false,\n  orderFailed: false,\n  order: null,\n  orders: null,\n  currentOrder: null,\n  orderNum: 0,\n};\n\nexport type TInitialOrderState = {\n  isLoading: boolean,\n  hasError: boolean,\n  isModalOpen: boolean,\n  orderRequest: boolean,\n  orderLoaded: boolean,\n  orderFailed: boolean,\n  order: TOrder | null,\n  orders: Array<TOrder> | null,\n  currentOrder: TOrder | null,\n  orderNum: number,\n};\n\nexport const orderReducer = (state = initialOrderState, action: TOrderActions):TInitialOrderState => {\n  switch (action.type) {\n    case POST_ORDER_REQUEST: {\n      return {\n        ...state,\n        isLoading: true,\n      };\n    }\n    case POST_ORDER_SUCCESS: {\n      return {\n        ...state,\n        isModalOpen: true,\n        isLoading: false,\n        order: action.order,\n        orderNum: action.orderNum\n      };\n    }\n    case POST_ORDER_FAILED: {\n      return {\n        ...state,\n        hasError: true,\n        isLoading: false,\n      };\n    }\n    case GET_ORDER_REQUEST: {\n      return {\n        ...state,\n        orderRequest: true,\n        orderFailed: false,\n        orderLoaded: false\n      };\n    }\n    case GET_ORDER_SUCCESS: {\n      return {\n        ...state,\n        orderFailed: false,\n        orders: action.orders,\n        orderRequest: false,\n        orderLoaded: true\n      };\n    }\n    case GET_ORDER_FAILED: {\n      return { ...state, orderFailed: true, orderRequest: false };\n    }\n\n    case GET_USER_ORDER_REQUEST: {\n      return {\n        ...state,\n        orderRequest: true,\n        orderFailed: false,\n        orderLoaded: false\n      };\n    }\n    case GET_USER_ORDER_SUCCESS: {\n      return {\n        ...state,\n        orderFailed: false,\n        currentOrder: action.order,\n        orderRequest: false,\n        orderLoaded: true\n      };\n    }\n    case GET_USER_ORDER_FAILED: {\n      return { ...state, orderFailed: true, orderRequest: false };\n    }\n    case CLOSE_ORDER_MODAL: {\n      return {\n        ...state,\n        isModalOpen: false,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import {\n  LOGIN_REQUEST,\n  LOGIN_SUCCESS,\n  LOGIN_FAILED,\n  REGISTER_REQUEST,\n  REGISTER_SUCCESS,\n  REGISTER_FAILED,\n  GET_USERINFO_REQUEST,\n  GET_USERINFO_SUCCESS,\n  GET_USERINFO_FAILED,\n  REFRESH_TOKEN_REQUEST,\n  REFRESH_TOKEN_SUCCESS,\n  REFRESH_TOKEN_FAILED,\n  RESET_PASSWORD_REQUEST,\n  RESET_PASSWORD_SUCCESS,\n  RESET_PASSWORD_FAILED,\n  SAVE_PASSWORD_REQUEST,\n  SAVE_PASSWORD_SUCCESS,\n  SAVE_PASSWORD_FAILED,\n  LOGOUT_REQUEST,\n  LOGOUT_SUCCESS,\n  LOGOUT_FAILED,\n  UPDATE_REQUEST,\n  UPDATE_SUCCESS,\n  UPDATE_FAILED,\n  AUTH_CHECKED\n} from \"../actions/auth\";\n\nimport { TApplicationActions } from '../store';\n\ntype TProfileForm = {\n  name: string\n  email: string;\n  password: string;\n}\n\ntype TInitialUserState = {\n  user: TProfileForm,\n  isLoading: boolean,\n  hasError: boolean,\n  isUserAuthorized: boolean,\n  isAuthChecked: boolean,\n  isTokenUpdated: boolean,\n  isForgotPassword: boolean\n}\n\nconst initialUserState:TInitialUserState = {\n  user: {\n    name: \"\",\n    email: \"\",\n    password: \"\",\n  },\n  isLoading: false,\n  hasError: false,\n  isUserAuthorized: false,\n  isAuthChecked: false,\n  isTokenUpdated: false,\n  isForgotPassword: false\n};\n\nexport const userReducer = (state = initialUserState, action: TApplicationActions):TInitialUserState => {\n  switch (action.type) {\n    case AUTH_CHECKED: {\n      return {\n        ...state,\n        isAuthChecked: true\n      };\n    }\n    case REGISTER_REQUEST: {\n      return {\n        ...state,\n        isLoading: true,\n      };\n    }\n    case REGISTER_SUCCESS: {\n      return {\n        ...state,\n        isUserAuthorized: true,\n        user: {\n          name: action.user.name,\n          email: action.user.email,\n          password: action.user.password\n        },\n      };\n    }\n    case REGISTER_FAILED: {\n      return {\n        ...state,\n        isLoading: false,\n        hasError: true,\n      };\n    }\n    case LOGIN_REQUEST: {\n      return {\n        ...state,\n        isLoading: true,\n      };\n    }\n    case LOGIN_SUCCESS: {\n      return {\n        ...state,\n        isLoading: false,\n        isUserAuthorized: true,\n        user: {\n          ...state.user,\n          email: action.user.email,\n          name: action.user.name,\n          password: action.user.password\n        },\n      };\n    }\n    case LOGIN_FAILED: {\n      return {\n        ...state,\n        isLoading: false,\n        hasError: true,\n      };\n    }\n    case GET_USERINFO_REQUEST: {\n      return {\n        ...state,\n        isLoading: true,\n      };\n    }\n    case GET_USERINFO_SUCCESS: {\n      return {\n        ...state,\n        isLoading: false,\n        user: {\n          ...state.user,\n          name: action.user.name,\n          email: action.user.email,\n          password: action.user.password,\n        },\n        isUserAuthorized: true\n      };\n    }\n    case GET_USERINFO_FAILED: {\n      return {\n        ...state,\n        isLoading: false,\n        hasError: true,\n      };\n    }\n    case REFRESH_TOKEN_REQUEST: {\n      return {\n        ...state,\n        isLoading: true,\n      };\n    }\n    case REFRESH_TOKEN_SUCCESS: {\n      return {\n        ...state,\n        isLoading: false,\n        isTokenUpdated: true\n      };\n    }\n    case REFRESH_TOKEN_FAILED: {\n      return {\n        ...state,\n        isLoading: false,\n        hasError: true,\n      };\n    }\n    case RESET_PASSWORD_REQUEST: {\n      return {\n        ...state,\n        isLoading: true,\n        isForgotPassword: true\n      };\n    }\n    case RESET_PASSWORD_SUCCESS: {\n      return {\n        ...state,\n        isLoading: false,\n        isForgotPassword: true\n      };\n    }\n    case RESET_PASSWORD_FAILED: {\n      return {\n        ...state,\n        isLoading: false,\n        isForgotPassword: false,\n        hasError: true,\n      };\n    }\n    case SAVE_PASSWORD_REQUEST: {\n      return {\n        ...state,\n        isLoading: true,\n        isForgotPassword: false\n      };\n    }\n    case SAVE_PASSWORD_SUCCESS: {\n      return {\n        ...state,\n        isLoading: false,\n      };\n    }\n    case SAVE_PASSWORD_FAILED: {\n      return {\n        ...state,\n        isLoading: false,\n        hasError: true,\n      };\n    }\n    case LOGOUT_REQUEST: {\n      return {\n        ...state,\n        isLoading: true,\n      };\n    }\n    case LOGOUT_SUCCESS: {\n      return {\n        ...state,\n        isLoading: false,\n        isUserAuthorized: false,\n        user: {\n          ...state.user,\n          email: \"\",\n          name: \"\",\n          password: \"\"\n        }\n      };\n    }\n    case LOGOUT_FAILED: {\n      return {\n        ...state,\n        isLoading: false,\n        hasError: true,\n      };\n    }\n    case UPDATE_REQUEST: {\n      return {\n        ...state,\n        isLoading: true,\n      };\n    }\n    case UPDATE_SUCCESS: {\n      return {\n        ...state,\n        isLoading: false,\n        user: {\n          ...state.user,\n          name: action.user.name,\n          email: action.user.email,\n        },\n      };\n    }\n    case UPDATE_FAILED: {\n      return {\n        ...state,\n        isLoading: false,\n        hasError: true,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import { TOrder } from \"../../utils/types\";\nexport const SELECT_ORDER:'SELECT_ORDER' = 'SELECT_ORDER';\nexport const UNSELECT_ORDER:'UNSELECT_ORDER' = 'UNSELECT_ORDER';\n\nexport interface ISelectOrder {\n  readonly type: typeof SELECT_ORDER;\n  order: TOrder;\n}\n\nexport const selectOrderAction = (order:TOrder) => {\n  return {\n    type: SELECT_ORDER,\n    order: order,\n  };\n};\n\nexport type TOrderActions = ISelectOrder;","import { \n    SELECT_ORDER\n} from '../actions/feed';\nimport { TOrderActions } from '../actions/feed';\nimport { TOrder } from '../../utils/types';\n\ntype TInitialOrderState = {\n  orders: TOrder[],\n  currentOrder?: TOrder,\n  isModalOpen: boolean,\n  isOrderInfoOpen: boolean,\n  done: TOrder[],\n  inProgress: TOrder[],\n}\n\nconst initialOrderState:TInitialOrderState = {\n  orders: [],\n  currentOrder: undefined,\n  isModalOpen: false,\n  isOrderInfoOpen: false,\n  done: [],\n  inProgress: [],\n};\n\nexport const feedReducer = (state = initialOrderState, action:TOrderActions ):TInitialOrderState => {\n  switch (action.type) {\n    case SELECT_ORDER: {\n      return {\n        ...state,\n        currentOrder: action.order,\n        isOrderInfoOpen: true\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};","import { TOrder } from \"../../utils/types\";\nimport {\n  WS_CONNECTION_CLOSED,\n  WS_CONNECTION_ERROR,\n  WS_CONNECTION_START,\n  WS_CONNECTION_SUCCESS,\n  WS_GET_ORDERS,\n  WS_SEND_ORDER\n} from \"../actions/ws\";\nimport { TWSActions } from '../actions/ws';\n\ntype TWSState = {\n  wsConnected: boolean;\n  orders: TResponse | null;\n  total: number;\n  totalToday: number;\n  loading: boolean;\n\n  error?: Event;\n}\n\nexport type TResponse = {\n  success: boolean,\n  total: number;\n  totalToday: number;\n  orders: Array<TOrder>\n}\n\nexport const initialWsState:TWSState = {\n    wsConnected: false,\n    orders: {success: false,\n      total: 0,\n      totalToday: 0,\n      orders: []},\n  \n    total: 0,\n    totalToday: 0,\n    loading: false,\n  };\n  \n  export const wsReducer = (state = initialWsState, action: TWSActions):TWSState => {\n    switch (action.type) {\n      case WS_CONNECTION_START: {\n        return {\n          ...state,\n          loading: true,\n        }\n      }\n      case WS_CONNECTION_SUCCESS: {\n        return {\n          ...state,\n          error: undefined,\n          wsConnected: true,\n        };\n      }\n      case WS_CONNECTION_ERROR: {\n        return {\n          ...state,\n          error: action.error,\n          wsConnected: false,\n          loading: false,\n        };\n      }\n      case WS_CONNECTION_CLOSED: {\n        return {\n          ...state,\n          error: undefined,\n          wsConnected: false,\n          loading: false,\n        };\n      }\n      case WS_GET_ORDERS: {\n        return {\n          ...state,\n          error: undefined,\n          orders: action.orders,\n          loading: false,\n        };\n      }\n      default: {\n        return state;\n      }\n    }\n  };","import { combineReducers } from \"redux\";\nimport {\n  GET_DATA_REQUEST,\n  GET_DATA_SUCCESS,\n  GET_DATA_FAILED,\n  OPEN_CURRENT_INGREDIENT,\n  CLOSE_CURRENT_INGREDIENT,\n  ADD_ITEM,\n  ADD_BUN,\n  DELETE_ITEM,\n  UPDATE_ITEMS,\n} from \"../actions\";\nimport { POST_ORDER_SUCCESS } from \"../actions/order\";\nimport { orderReducer } from \"./order\";\nimport { userReducer } from \"./auth\";\nimport { feedReducer } from \"./feed\";\nimport { wsReducer } from \"./ws\";\nimport { TConstructorActions } from \"../actions\";\nimport { TIngredientData } from \"../../utils/types\";\n\nexport const initialConstructorState:TInitialConstructorState = {\n  isLoading: false,\n  hasError: false,\n  data: [],\n  burgerIngredients: {\n    bun: null,\n    fillings: []\n  },\n  isModalOpen: false,\n  isIngredientModal: false,\n  currentIngredient: {\n    image: '',\n    name: '',\n    calories: 0,\n    proteins: 0,\n    fat: 0,\n    carbohydrates: 0,\n  }\n};\n\nexport type TInitialConstructorState = {\n  isLoading: boolean,\n  hasError: boolean,\n  data: Array<TIngredientData>,\n  burgerIngredients: {\n    bun: TIngredientData | null,\n    fillings: Array<TIngredientData>\n  },\n  isModalOpen: boolean,\n  isIngredientModal: boolean,\n  currentIngredient: {\n    image: string | null,\n    name: string | null,\n    calories: number | null,\n    proteins: number | null,\n    fat: number | null,\n    carbohydrates: number | null,\n  }\n};\n\nexport const dataReducer = (state = initialConstructorState, action: TConstructorActions):TInitialConstructorState => {\n  switch (action.type) {\n    case GET_DATA_REQUEST: {\n      return {\n        ...state,\n        isLoading: true,\n      };\n    }\n    case GET_DATA_SUCCESS: {\n      return {\n        ...state,\n        isLoading: false,\n        data: action.data,\n        burgerIngredients: {\n          ...state.burgerIngredients,\n          bun: action.bun,\n          fillings: action.fillings,\n        },\n      };\n    }\n    case GET_DATA_FAILED: {\n      return {\n        ...state,\n        hasError: true,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n\nexport const constructorReducer = (state = initialConstructorState, action:TConstructorActions):TInitialConstructorState => {\n  switch (action.type) {\n    case ADD_ITEM: {\n      let ingredientAmount = state.burgerIngredients.fillings.filter(function(item){return item._id === action.item._id}).length + 1; \n      return {\n        ...state,\n        burgerIngredients: {\n          ...state.burgerIngredients,\n          fillings: \n          [...state.burgerIngredients.fillings.map((item) => \n            ({...item, added: ingredientAmount})),\n            ...[{ ...action.item, added: 1, key: action.key, count: ingredientAmount }],\n          ],\n        },\n      };\n    }\n    case ADD_BUN: {\n      return {\n        ...state,\n        burgerIngredients: {\n          ...state.burgerIngredients,\n          bun: {...action.item, count: 1}\n        }\n      }\n    }\n    case DELETE_ITEM: {\n      return {\n        ...state,\n        burgerIngredients: {\n          ...state.burgerIngredients,\n          fillings: state.burgerIngredients.fillings\n            .map((item) =>\n              item?._id === action.item?._id\n                ? { ...item, count: item.count - 1 }\n                : item\n            )\n            .filter((item) => item!.count > 0),\n        },\n      };\n    }\n    case UPDATE_ITEMS: {\n      const fillings = [...state.burgerIngredients.fillings];\n      fillings.splice(\n        action.toIndex,\n        0,\n        fillings.splice(action.fromIndex, 1)[0]\n      );\n      return {\n        ...state,\n        burgerIngredients: {\n          ...state.burgerIngredients,\n          fillings: fillings,\n        },\n      };\n    }\n    case POST_ORDER_SUCCESS: {\n      return {\n        ...state,\n      burgerIngredients: {\n        bun: null,\n        fillings: []\n      },\n    }\n  }\n    default: {\n      return state;\n    }\n  }\n};\n\nexport const currentIngredientReducer = (state = initialConstructorState, action:TConstructorActions):TInitialConstructorState => {\n  switch (action.type) {\n    case OPEN_CURRENT_INGREDIENT: {\n      return {\n        ...state,\n        isModalOpen: true,\n        isIngredientModal: true,\n        currentIngredient: {\n          ...state.currentIngredient,\n          image: action.props.image,\n          name: action.props.name,\n          calories: action.props.calories,\n          proteins: action.props.proteins,\n          fat: action.props.fat,\n          carbohydrates: action.props.carbohydrates,\n        },\n      };\n    }\n    case CLOSE_CURRENT_INGREDIENT: {\n      return {\n        ...state,\n        isModalOpen: false,\n        isIngredientModal: false,\n        currentIngredient: {\n          ...state.currentIngredient,\n          image: null,\n          name: null,\n          calories: null,\n          proteins: null,\n          fat: null,\n          carbohydrates: null,\n        },\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n\n\nexport const rootReducer = combineReducers({\n  data: dataReducer,\n  constr: constructorReducer,\n  ingr: currentIngredientReducer,\n  ord: orderReducer, \n  user: userReducer,\n  feed: feedReducer,\n  ws: wsReducer,\n});\n","import { fetchData } from \"../../utils/api\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { AppDispatch } from \"../store\";\nimport { TIngredientData } from \"../../utils/types\";\n\nexport const GET_DATA_REQUEST:\"GET_DATA_REQUEST\" = \"GET_DATA_REQUEST\";\nexport const GET_DATA_SUCCESS:\"GET_DATA_SUCCESS\" = \"GET_DATA_SUCCESS\";\nexport const GET_DATA_FAILED:\"GET_DATA_FAILED\" = \"GET_DATA_FAILED\";\nexport const ADD_ITEM:\"ADD_ITEM\" = \"ADD_ITEM\";\nexport const ADD_BUN:\"ADD_BUN\" = \"ADD_BUN\";\nexport const DELETE_ITEM:\"DELETE_ITEM\" = \"DELETE_ITEM\";\nexport const UPDATE_ITEMS:\"UPDATE_ITEMS\" = \"UPDATE_ITEMS\";\nexport const OPEN_CURRENT_INGREDIENT:\"OPEN_CURRENT_INGREDIENT\" = \"OPEN_CURRENT_INGREDIENT\";\nexport const SET_CURRENT_INGREDIENT:\"SET_CURRENT_INGREDIENT\" = \"SET_CURRENT_INGREDIENT\";\nexport const CLOSE_CURRENT_INGREDIENT:\"CLOSE_CURRENT_INGREDIENT\" = \"CLOSE_CURRENT_INGREDIENT\";\nexport const POST_ORDER_SUCCESS:\"POST_ORDER_SUCCESS\" = \"POST_ORDER_SUCCESS\";\n\nexport interface IGetDataRequest {\n  readonly type: typeof GET_DATA_REQUEST\n}\n\nexport interface IGetDataSuccess {\n  readonly type: typeof GET_DATA_SUCCESS,\n  data: Array<TIngredientData>,\n  bun: TIngredientData | null,\n  fillings: Array<TIngredientData>\n}\n\nexport interface IGetDataFailed {\n  readonly type: typeof GET_DATA_FAILED\n}\n\nexport interface IAddItem {\n  readonly type: typeof ADD_ITEM,\n  item: TIngredientData,\n  key: string | number\n}\n\nexport interface IAddBun {\n  readonly type: typeof ADD_BUN,\n  item: TIngredientData\n}\n\nexport interface IDeleteItem {\n  readonly type: typeof DELETE_ITEM,\n  item: TIngredientData\n}\n\nexport interface IOpenCurrentIngredient {\n  readonly type: typeof OPEN_CURRENT_INGREDIENT,\n  props: TIngredientData\n}\n\nexport interface ICloseCurrentIngredient {\n  readonly type: typeof CLOSE_CURRENT_INGREDIENT\n}\n\nexport interface IUpdateItems {\n  readonly type: typeof UPDATE_ITEMS,\n  fromIndex: number,\n  toIndex: number\n}\n\nexport interface IOrderSuccess {\n  readonly type: typeof POST_ORDER_SUCCESS\n}\n\nexport type TConstructorActions = \n  | IGetDataRequest\n  | IGetDataSuccess\n  | IGetDataFailed\n  | IAddItem\n  | IAddBun\n  | IDeleteItem\n  | IOpenCurrentIngredient\n  | ICloseCurrentIngredient\n  | IUpdateItems\n  | IOrderSuccess;\n\n\nconst getDataRequest = (): IGetDataRequest => ({\n  type: GET_DATA_REQUEST,\n});\n\nconst getDataSuccess = (newdata:Array<TIngredientData>): IGetDataSuccess => ({\n  type: GET_DATA_SUCCESS,\n  data: newdata,\n  bun: null,\n  fillings: []\n});\n\nconst getDataFailed = (): IGetDataFailed => ({\n  type: GET_DATA_FAILED\n});\n\nconst addItem = (item:TIngredientData, key: string): IAddItem => ({\n  type: ADD_ITEM,\n  item,\n  key\n})\n\nconst addBun = (item:TIngredientData): IAddBun => ({\n  type: ADD_BUN,\n  item\n})\n\nconst openIngredient = (props:TIngredientData): IOpenCurrentIngredient => ({\n  type: OPEN_CURRENT_INGREDIENT,\n  props\n});\n\nconst closeIngredient = (): ICloseCurrentIngredient => ({\n  type: CLOSE_CURRENT_INGREDIENT\n});\n\nexport const updateIngredients = (fromIndex: number, toIndex: number):IUpdateItems => ({\n  type: UPDATE_ITEMS,\n  fromIndex,\n  toIndex\n});\n\nexport const setIngredientsData = () => (dispatch:AppDispatch) => {\n    dispatch(getDataRequest());\n    fetchData().then((res) => {\n      if (res && res.success) {\n        return dispatch(getDataSuccess(res.data));\n      } else {\n        return dispatch(getDataFailed());\n      }\n    })\n    .catch((err) => {\n      console.log(err);\n  });\n}\n\nexport const onDropHandler = (item:TIngredientData) => (dispatch:AppDispatch) => {\n    let key = uuidv4();\n    if (item.type !== 'bun') {\n      return dispatch(addItem(item, key));\n    }\n    else {\n      return dispatch(addBun(item))\n    }\n};\n\nexport const deleteItem = (item:TIngredientData):IDeleteItem => {\n  return {\n    type: DELETE_ITEM,\n    item: item,\n  };\n};\n\nexport const openCurrentIngredient = (props:TIngredientData) => (dispatch:AppDispatch) => {\n    dispatch(openIngredient(props));\n};\n\nexport const closeCurrentIngredient = () => (dispatch:AppDispatch) => {\n    return dispatch(closeIngredient());\n};\n","import { apiPostOrder, apiGetOrders, apiGetUserOrder } from \"../../utils/api\";\nimport { wsConnectionSendOrderAction } from \"./ws\";\nimport { AppDispatch } from \"../store\";\nimport { TOrder } from \"../../utils/types\";\nexport const POST_ORDER_REQUEST:\"POST_ORDER_REQUEST\" = \"POST_ORDER_REQUEST\";\nexport const POST_ORDER_SUCCESS:\"POST_ORDER_SUCCESS\" = \"POST_ORDER_SUCCESS\";\nexport const POST_ORDER_FAILED:\"POST_ORDER_FAILED\" = \"POST_ORDER_FAILED\";\nexport const CLOSE_ORDER_MODAL:\"CLOSE_ORDER_MODAL\" = \"CLOSE_ORDER_MODAL\";\nexport const GET_ORDER_REQUEST:\"GET_ORDER_REQUEST\" = \"GET_ORDER_REQUEST\";\nexport const GET_ORDER_SUCCESS:\"GET_ORDER_SUCCESS\" = \"GET_ORDER_SUCCESS\";\nexport const GET_ORDER_FAILED:\"GET_ORDER_FAILED\" = \"GET_ORDER_FAILED\";\nexport const GET_USER_ORDER_REQUEST:\"GET_USER_ORDER_REQUEST\" = \"GET_USER_ORDER_REQUEST\";\nexport const GET_USER_ORDER_SUCCESS:\"GET_USER_ORDER_SUCCESS\" = \"GET_USER_ORDER_SUCCESS\";\nexport const GET_USER_ORDER_FAILED:\"GET_USER_ORDER_FAILED\" = \"GET_USER_ORDER_FAILED\";\n\nexport interface IPostOrderRequest {\n  readonly type: typeof POST_ORDER_REQUEST\n}\n\nexport interface IPostOrderSuccess {\n  readonly type: typeof POST_ORDER_SUCCESS,\n  order: TOrder,\n  orderNum: number\n}\n\nexport interface IPostOrderFailed {\n  readonly type: typeof POST_ORDER_FAILED\n}\n\nexport interface ICloseOrderModal {\n  readonly type: typeof CLOSE_ORDER_MODAL\n}\n\nexport interface IGetOrderRequest {\n  readonly type: typeof GET_ORDER_REQUEST\n}\n\nexport interface IGetOrderSuccess {\n  readonly type: typeof GET_ORDER_SUCCESS,\n  orders: Array<TOrder>\n}\n\nexport interface IGetOrderFailed {\n  readonly type: typeof GET_ORDER_FAILED\n}\n\nexport interface IGetUserOrderRequest {\n  readonly type: typeof GET_USER_ORDER_REQUEST\n}\n\nexport interface IGetUserOrderSuccess {\n  readonly type: typeof GET_USER_ORDER_SUCCESS,\n  order: TOrder\n}\n\nexport interface IGetUserOrderFailed {\n  readonly type: typeof GET_USER_ORDER_FAILED\n}\n\nexport type TOrderActions =\n| IPostOrderRequest\n| IPostOrderSuccess\n| IPostOrderFailed\n| ICloseOrderModal\n| IGetOrderRequest\n| IGetOrderSuccess\n| IGetOrderFailed\n| IGetUserOrderRequest\n| IGetUserOrderSuccess\n| IGetUserOrderFailed;\n\nconst postOrderRequest = ():IPostOrderRequest => ({\n  type: POST_ORDER_REQUEST\n});\n\nconst postOrderSuccess = (order: TOrder, orderNum: number):IPostOrderSuccess => ({\n  type: POST_ORDER_SUCCESS,\n  order,\n  orderNum\n});\n\nconst postOrderFailed = ():IPostOrderFailed => ({\n  type: POST_ORDER_FAILED\n});\n\nconst closeModal = ():ICloseOrderModal => ({\n  type: CLOSE_ORDER_MODAL\n});\n\nconst getOrderRequest = ():IGetOrderRequest => ({\n  type: GET_ORDER_REQUEST\n});\n\nconst getOrderSuccess = (orders:Array<TOrder>):IGetOrderSuccess => ({\n  type: GET_ORDER_SUCCESS,\n  orders\n});\n\nconst getOrderFailed = ():IGetOrderFailed => ({\n  type: GET_ORDER_FAILED\n});\n\nconst getUserOrderRequest = ():IGetUserOrderRequest => ({\n  type: GET_USER_ORDER_REQUEST\n});\n\nconst getUserOrderSuccess = (order:TOrder):IGetUserOrderSuccess => ({\n  type: GET_USER_ORDER_SUCCESS,\n  order\n});\n\nconst getUserOrderFailed = ():IGetUserOrderFailed => ({\n  type: GET_USER_ORDER_FAILED\n});\n\n\nexport const openOrderModal = (orderData:string[]) => (dispatch:AppDispatch) =>  {\n    dispatch(postOrderRequest());\n    wsConnectionSendOrderAction(orderData);\n    apiPostOrder(orderData)\n      .then((res) => {\n        if (res && res.success) {\n          dispatch(postOrderSuccess(res, res.order.number));\n        } else {\n          dispatch(postOrderFailed());\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n};\n\nexport const closeOrderModal = () => (dispatch:AppDispatch) =>  {\n    dispatch(closeModal());\n};\n\nexport const getOrders = () => (dispatch:AppDispatch) =>  {\n    dispatch(getOrderRequest());\n    apiGetOrders()\n      .then((res) => {\n        if (res && res.success) {\n          dispatch(getOrderSuccess(res.orders));\n        } else {\n          dispatch(getOrderFailed());\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        dispatch(getOrderFailed());\n      });\n};\n\nexport const getUserOrder = (id:string) => (dispatch:AppDispatch) => {\n    dispatch(getUserOrderRequest());\n    apiGetUserOrder(id)\n      .then((res) => {\n        if (res && res.success) {\n          dispatch(getUserOrderSuccess(res.orders));\n        } else {\n          dispatch(getUserOrderFailed());\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        dispatch(getUserOrderFailed());\n      });\n};\n","import { compose, applyMiddleware } from \"redux\";\nimport { legacy_createStore as createStore } from \"redux\";\nimport { rootReducer } from \"./reducers/index\";\nimport thunk from \"redux-thunk\";\nimport {\n  LOGIN_REQUEST,\n  LOGIN_SUCCESS,\n  LOGIN_FAILED,\n  REGISTER_REQUEST,\n  REGISTER_SUCCESS,\n  REGISTER_FAILED,\n  GET_USERINFO_REQUEST,\n  GET_USERINFO_SUCCESS,\n  GET_USERINFO_FAILED,\n  REFRESH_TOKEN_REQUEST,\n  REFRESH_TOKEN_SUCCESS,\n  REFRESH_TOKEN_FAILED,\n  RESET_PASSWORD_REQUEST,\n  RESET_PASSWORD_SUCCESS,\n  RESET_PASSWORD_FAILED,\n  SAVE_PASSWORD_REQUEST,\n  SAVE_PASSWORD_SUCCESS,\n  SAVE_PASSWORD_FAILED,\n  LOGOUT_REQUEST,\n  LOGOUT_SUCCESS,\n  LOGOUT_FAILED,\n  UPDATE_REQUEST,\n  UPDATE_SUCCESS,\n  UPDATE_FAILED,\n  AUTH_CHECKED,\n} from \"./actions/auth\";\nimport {\n  WS_CONNECTION_CLOSED,\n  WS_CONNECTION_ERROR,\n  WS_CONNECTION_START,\n  WS_CONNECTION_SUCCESS,\n  WS_GET_ORDERS,\n  WS_SEND_ORDER,\n} from \"./actions/ws\";\nimport { wsMiddleware } from \"./wsMiddleware\";\nimport { Action, ActionCreator } from \"redux\";\nimport { ThunkAction } from \"redux-thunk\";\nimport {\n  useDispatch as dispatchHook,\n  useSelector as selectorHook,\n  TypedUseSelectorHook,\n} from \"react-redux\";\n\ndeclare global {\n  interface Window {\n    __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\n  }\n}\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst actions = {\n  wsStart: WS_CONNECTION_START,\n  onOpen: WS_CONNECTION_SUCCESS,\n  onClose: WS_CONNECTION_CLOSED,\n  onError: WS_CONNECTION_ERROR,\n  onOrders: WS_GET_ORDERS,\n  onSendOrders: WS_SEND_ORDER,\n};\n\nconst enhancer = composeEnhancers(\n  applyMiddleware(thunk, wsMiddleware(actions))\n);\n\nexport const store = createStore(rootReducer, enhancer);\n\nexport type RootState = ReturnType<typeof store.getState>;\n\nexport type AppThunk<TReturn = void> = ActionCreator<\n  ThunkAction<TReturn, Action, RootState, TApplicationActions>\n>;\nexport type AppDispatch = typeof store.dispatch;\n\nexport const useDispatch: () => AppDispatch | AppThunk = dispatchHook;\nexport const useSelector: TypedUseSelectorHook<RootState> = selectorHook;\n\nexport type TUser = {\n  name: string;\n  email: string;\n  password: string;\n};\n\ntype TLoginActions = ILoginRequest | ILoginSuccess | ILoginFailed;\ntype TLogoutActions = ILogoutRequest | ILogoutSuccess | ILogoutFailed;\ntype TUpdateActions = IUpdateRequest | IUpdateSuccess | IUpdateFailed;\ntype TRegisterActions = IRegisterRequest | IRegisterSuccess | IRegisterFailed;\ntype TResetPasswordActions =\n  | IResetPasswordRequest\n  | IResetPasswordSuccess\n  | IResetPasswordFailed;\ntype TSavePasswordActions =\n  | ISavePasswordRequest\n  | ISavePasswordSuccess\n  | ISavePasswordFailed;\ntype TGetUserInfoActions =\n  | IGetUserInfoRequest\n  | IGetUserInfoSuccess\n  | IGetUserInfoFailed;\ntype TRefreshTokenActions =\n  | IRefreshTokenRequest\n  | IRefreshTokenSuccess\n  | IRefreshTokenFailed;\ntype TAuthCheckedActions = IAuthChecked;\n\nexport type TApplicationActions =\n  | TSavePasswordActions\n  | TGetUserInfoActions\n  | TLoginActions\n  | TLogoutActions\n  | TUpdateActions\n  | TRegisterActions\n  | TResetPasswordActions\n  | TRefreshTokenActions\n  | TAuthCheckedActions\n  | TSavePasswordActions;\n\nexport interface ILoginRequest {\n  readonly type: typeof LOGIN_REQUEST;\n}\nexport interface ILoginSuccess {\n  readonly type: typeof LOGIN_SUCCESS;\n  user: TUser;\n}\nexport interface ILoginFailed {\n  readonly type: typeof LOGIN_FAILED;\n}\n\nexport interface IRegisterRequest {\n  readonly type: typeof REGISTER_REQUEST;\n}\nexport interface IRegisterSuccess {\n  readonly type: typeof REGISTER_SUCCESS;\n  user: TUser;\n}\nexport interface IRegisterFailed {\n  readonly type: typeof REGISTER_FAILED;\n}\n\nexport interface IGetUserInfoRequest {\n  readonly type: typeof GET_USERINFO_REQUEST;\n}\nexport interface IGetUserInfoSuccess {\n  readonly type: typeof GET_USERINFO_SUCCESS;\n  user: TUser;\n}\nexport interface IGetUserInfoFailed {\n  readonly type: typeof GET_USERINFO_FAILED;\n}\n\nexport interface IRefreshTokenRequest {\n  readonly type: typeof REFRESH_TOKEN_REQUEST;\n}\nexport interface IRefreshTokenSuccess {\n  readonly type: typeof REFRESH_TOKEN_SUCCESS;\n}\nexport interface IRefreshTokenFailed {\n  readonly type: typeof REFRESH_TOKEN_FAILED;\n}\n\nexport interface IResetPasswordRequest {\n  readonly type: typeof RESET_PASSWORD_REQUEST;\n}\nexport interface IResetPasswordSuccess {\n  readonly type: typeof RESET_PASSWORD_SUCCESS;\n}\nexport interface IResetPasswordFailed {\n  readonly type: typeof RESET_PASSWORD_FAILED;\n}\n\nexport interface ISavePasswordRequest {\n  readonly type: typeof SAVE_PASSWORD_REQUEST;\n}\nexport interface ISavePasswordSuccess {\n  readonly type: typeof SAVE_PASSWORD_SUCCESS;\n}\nexport interface ISavePasswordFailed {\n  readonly type: typeof SAVE_PASSWORD_FAILED;\n}\n\nexport interface ILogoutRequest {\n  readonly type: typeof LOGOUT_REQUEST;\n}\nexport interface ILogoutSuccess {\n  readonly type: typeof LOGOUT_SUCCESS;\n}\nexport interface ILogoutFailed {\n  readonly type: typeof LOGOUT_FAILED;\n}\n\nexport interface IUpdateRequest {\n  readonly type: typeof UPDATE_REQUEST;\n}\nexport interface IUpdateSuccess {\n  readonly type: typeof UPDATE_SUCCESS;\n  user: TUser;\n}\nexport interface IUpdateFailed {\n  readonly type: typeof UPDATE_FAILED;\n}\n\nexport interface IAuthChecked {\n  readonly type: typeof AUTH_CHECKED;\n}\n","import { RootState } from \"./store\";\nimport { AppDispatch } from \"./store\";\nimport {Middleware, MiddlewareAPI} from \"redux\";\nimport { TActions } from \"./actions/ws\";\n\nexport const wsMiddleware = (actions:TActions ):Middleware => {\n  return ((store:MiddlewareAPI<AppDispatch, RootState>) => {\n    let socket: WebSocket | null = null;\n    return (next) => (action) => {\n      const { dispatch } = store;\n      const { type, payload, wsUrl } = action;\n      const { wsStart, onOpen, onError, onOrders, onClose, onSendOrders } = actions;\n\n      if (type === wsStart) {\n        socket = new WebSocket(wsUrl);\n      }\n\n      if (socket) {\n        socket.onopen = () => {\n          dispatch({ type: onOpen });\n        };\n\n        socket.onerror = (event) => {\n          dispatch({ type: onError, error: event });\n        };\n\n        socket.onmessage = (event) => {\n          const data = JSON.parse(event.data);\n          if (data.success) {\n            dispatch({ type: onOrders, orders: data});\n          } else {\n            socket?.close();\n          }\n        };\n\n        socket.onclose = () => {\n          dispatch({ type: onClose });\n        };\n\n        if (type === onClose) {\n          socket.close();\n        }\n\n        if (type === onSendOrders) {\n          socket.send(JSON.stringify(payload));\n        }\n      }\n      next(action);\n    };\n  })\n};","import React, { useEffect, FC } from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { useSelector, useDispatch } from '../services/store';\nimport { getUserInfo } from \"../services/actions/auth\";\nimport { TProtectedRouteProps } from \"../utils/types\";\n\nexport const ProtectedRoute:FC<TProtectedRouteProps> = ({ children, ...rest }) => {\n  const dispatch = useDispatch();\n  const isUserAuthorized = useSelector((store) => store.user.isUserAuthorized);\n\n  useEffect(() => { dispatch(getUserInfo()); }, [dispatch]);\n\n  return (\n    <Route\n      {...rest}\n      render={({ location }) =>\n        isUserAuthorized ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: \"/login\",\n              state: { from: location },\n            }}\n          />\n        )\n      }\n    />\n  );\n};\n","import React, { useState, FC } from \"react\";\nimport { useDispatch, useSelector } from '../services/store';\nimport { Redirect, Link, useHistory } from \"react-router-dom\";\nimport { EmailInput, Button } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { resetPassword } from \"../services/actions/auth\";\nimport styles from \"./forgotpassword.module.css\";\n\nexport const ForgotPasswordPage:FC = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [emailValue, setEmailValue] = useState(\"\");\n\n  const isforgotPassword = useSelector((store) => store.user.isForgotPassword);\n  const isUserAuthorized = useSelector((store) => store.user.isUserAuthorized);\n\n  const onEmailChange = (e: React.ChangeEvent<HTMLInputElement>) => { setEmailValue(e.target.value) };\n\n  const redirectOnSuccess = () => {\n    history.replace({\n      pathname: \"/reset-password\",\n      state: { from: \"/forgot-password\" },\n    });\n  };\n\n  const resetUserPassword = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    dispatch(resetPassword(emailValue, redirectOnSuccess));\n    setEmailValue(\"\");\n  };\n\n  if (isUserAuthorized) {\n    return (\n      <Redirect to={{ pathname: \"/\" }}/>\n    );\n  }\n\n  if (!isUserAuthorized && isforgotPassword) {\n    return (\n      <Redirect to={{ pathname: \"/reset-password\" }}/>\n    );\n  }\n\n  return (\n    <div className={styles.container}>\n      <p className={`${styles.title} text text_type_main-medium`}>\n         \n      </p>\n      <form className={styles.form} onSubmit={(e) => resetUserPassword(e)}>\n        <div className={styles.email}>\n          <EmailInput\n            onChange={onEmailChange}\n            value={emailValue}\n            name={\"email\"}\n          />\n        </div>\n        <div className={styles.button}>\n          <Button htmlType=\"button\" type=\"primary\" size=\"large\">\n            \n          </Button>\n        </div>\n      </form>\n      <div className={styles.textcontainer}>\n        <p className={`${styles.text} text text_type_main-default text_color_inactive`}>\n           ?\n        </p>\n        <Link to=\"/login\" className={`${styles.activetext} text text_type_main-default`}>\n          \n        </Link>\n      </div>\n    </div>\n  );\n}\n","import React, { FC } from 'react';\nimport { TModalOverlayProps } from '../../utils/types';\nimport styles from \"./modal-overlay.module.css\";\n\nexport const ModalOverlay:FC<TModalOverlayProps> = (props: TModalOverlayProps) => {\n  return <div className={styles.modaloverlay} onClick={props.onClick} />;\n}","import React, { FC } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { useEffect } from \"react\";\nimport { useSelector } from '../../services/store';\nimport { CloseIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { ModalOverlay } from \"../modal-overlay/modal-overlay\";\nimport { TModalProps } from \"../../utils/types\";\nimport styles from \"./modal.module.css\";\n\nconst modalsContainer = document.querySelector(\"#modals\");\n\nexport const Modal:FC<TModalProps> = (props:TModalProps) => {\n\n  const handleEscKeydown = (event: KeyboardEvent) => {\n    event.key === \"Escape\" && props.onClose!();\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleEscKeydown);\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscKeydown);\n    };\n  }, [handleEscKeydown]);\n\n  return ReactDOM.createPortal(\n    <>\n      <div className={!props.title ? styles.ordermodal : styles.modal}>\n        <button className={styles.closebutton} onClick={props.onClose}>\n          <CloseIcon type='primary' />\n        </button>\n       {props.title && <h3 className={styles.title}>{props.title}</h3> }\n        {props.children}\n      </div>\n      <ModalOverlay onClick={props.onClose!} />\n    </>,\n    modalsContainer!\n  );\n}","import React, { useState, useEffect, FC } from 'react';\nimport { useParams } from 'react-router-dom';\nimport styles from \"./ingredient-details.module.css\";\nimport { TIngredientDetailsProps } from '../../utils/types';\nimport { TIngredientData } from '../../utils/types';\n\nexport const IngredientDetails:FC<TIngredientDetailsProps> = (data:TIngredientDetailsProps) => {\n  const [ingr, setIngredient] = useState<TIngredientData>();\n  const { id } = useParams<{ id?: string }>();\n\n   useEffect(()=>{\n\t\tlet currentIngredient = data && data.data!.find(el => el._id === id);\n    setIngredient(currentIngredient!);\n\t},[id, data]);\n\n  return (\n    <>\n      <img className={styles.image} src={ingr?.image} alt={`${ingr?.name}`} />\n      <h3 className={styles.name}>{ingr?.name}</h3>\n      <ul className={styles.values}>\n        <li className={styles.value}>\n          <p className={styles.nutrient}>,</p>\n          <p className={styles.number}>{ingr?.calories}</p>\n        </li>\n        <li className={styles.value}>\n          <p className={styles.nutrient}>, </p>\n          <p className={styles.number}>{ingr?.proteins}</p>\n        </li>\n        <li className={styles.value}>\n          <p className={styles.nutrient}>, </p>\n          <p className={styles.number}>{ingr?.fat}</p>\n        </li>\n        <li className={styles.value}>\n          <p className={styles.nutrient}>, </p>\n          <p className={styles.number}>{ingr?.carbohydrates}</p>\n        </li>\n      </ul>\n    </>\n  );\n}\n","import React, { FC } from \"react\";\nimport { useHistory, useLocation, Link } from \"react-router-dom\";\nimport { useDrag } from \"react-dnd\";\nimport { useDispatch, useSelector } from \"../../services/store\";\nimport { Counter } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { Modal } from \"../modal/modal\";\nimport { IngredientDetails } from \"../ingredient-details/ingredient-details\";\nimport { openCurrentIngredient, closeCurrentIngredient } from \"../../services/actions\";\nimport { TIngredientData } from \"../../utils/types\";\nimport styles from \"../burger-ingredients/burger-ingredients.module.css\";\n\n\nexport const BurgerIngredient:FC<TIngredientData> = (props:TIngredientData) => {\n  const dispatch = useDispatch();\n  const modalOpen = useSelector((store) => store.ingr.isModalOpen);\n  const location = useLocation();\n  const history = useHistory();\n  const data = useSelector<Array<TIngredientData>>((store) => store.data.data);\n\n  let count;\n  const { bun, fillings } = useSelector((store) => ({\n    bun: store.constr.burgerIngredients.bun,\n    fillings: store.constr.burgerIngredients.fillings,\n  }));\n  fillings &&\n    fillings.map((el) => (el._id === props._id ? (count = el.count) : null));\n  let buncount = bun && bun._id === props._id && bun.count;\n\n  const openModal = () => {\n   dispatch(openCurrentIngredient(props));\n  };\n\n  const closeAllModals = () => {\n    history.goBack();\n    dispatch(closeCurrentIngredient());\n  };\n\n  const [, dragRef] = useDrag(\n    () => ({\n      type: \"ingredient\",\n      item: props,\n    }),\n    [props]\n  );\n\n  return (\n    <>\n      <Link\n        to={{\n          pathname: `/ingredients/${props._id}`,\n          state: { background: location },\n        }}\n        className={styles.link}\n      >\n        <div className={styles.optioncard} onClick={openModal} ref={dragRef}>\n          {count && <Counter count={count} />}\n          {buncount && <Counter count={buncount} />}\n          <img src={props.image} alt={`${props.name}`} />\n          <p className={styles.optiontext}>{props.name}</p>\n        </div>\n      </Link>\n      {modalOpen && (\n        <>\n          <Modal title=\" \" onClose={closeAllModals}>\n            <IngredientDetails data={data} />\n          </Modal>\n        </>\n      )}\n    </>\n  );\n}\n","import React, { FC } from \"react\";\nimport { forwardRef } from \"react\";\nimport { BurgerIngredient } from \"../burger-ingredient/burger-ingredient\";\nimport { TIngredientCategoryProps } from \"../../utils/types\";\nimport styles from \"./ingredient-category.module.css\";\n\nexport const IngredientCategory:FC<TIngredientCategoryProps> = forwardRef<HTMLInputElement, TIngredientCategoryProps>(\n  ({ title, ingredients, id }, ref) => {\n    return (\n      <>\n        <h2 id={id} className={styles.title} ref={ref}>\n          {title}\n        </h2>\n        <div className={styles.optionscards}>\n          {ingredients.map((el, index) => (\n            <BurgerIngredient key={index} {...el}></BurgerIngredient>\n          ))}\n        </div>\n      </>\n    );\n  }\n);","import React, { FC } from 'react';\nimport { useRef, useState, RefObject } from \"react\";\nimport { useSelector } from '../../services/store';\nimport { Tab } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { IngredientCategory } from \"../ingredient-category/ingredient-category\";\nimport { TIngredientData } from '../../utils/types';\nimport styles from \"./burger-ingredients.module.css\";\n\nexport const BurgerIngredients:FC = () => {\n  const [current, setCurrent] = useState(\"bun\");\n  const isLoading = useSelector((store) => store.data.isLoading);\n\n  const { data } = useSelector((store) => store.data);\n  const bunsArr = data.filter((el) => el.type === \"bun\");\n  const mainArr = data.filter((el) => el.type === \"main\");\n  const sauceArr = data.filter((el) => el.type === \"sauce\");\n\n  const containerRef = useRef<HTMLDivElement>(null);\n  const bunsRef = useRef<HTMLElement>(null);\n  const sauceRef = useRef<HTMLElement>(null);\n  const mainRef = useRef<HTMLElement>(null);\n\n  const scroll = (ref:any) =>\n    containerRef.current!.scroll({\n      behavior: \"smooth\",\n      top: ref.current.offsetTop - containerRef.current!.offsetTop - 40,\n    });\n\n  const onTabClick = (tab:string, categoryRef:RefObject<HTMLElement>) => () => {\n    setCurrent(tab);\n    scroll(categoryRef);\n  };\n\n  const handleScroll = () => {\n\t\tif (containerRef && bunsRef && sauceRef && mainRef && containerRef.current && bunsRef.current && sauceRef.current && mainRef.current) {\n\t\t\tconst bunDistance = Math.abs(containerRef.current.getBoundingClientRect().top - bunsRef.current.getBoundingClientRect().top)\n\t\t\tconst sauceDistance = Math.abs(containerRef.current.getBoundingClientRect().top - sauceRef.current.getBoundingClientRect().top)\n\t\t\tconst mainDistance = Math.abs(containerRef.current.getBoundingClientRect().top - mainRef.current.getBoundingClientRect().top)\n\t\t\tconst minDistance = Math.min(bunDistance, sauceDistance, mainDistance);\n\t\t\tconst currentHeader = minDistance === bunDistance\n\t\t\t\t? 'bun' : minDistance === sauceDistance ? 'sauce' : 'main';\n\t\t\tsetCurrent(prevState => (currentHeader === prevState ? prevState : currentHeader))\n\t\t}\n\t}\n\n  return (\n    !isLoading ?\n    <>\n      <section className={styles.ingridients}>\n        <p className=\"text text_type_main-large\"> </p>\n        <div className={styles.optionselection}>\n          <Tab value='' active={current === \"bun\"} onClick={onTabClick(\"bun\", bunsRef)}>\n            \n          </Tab>\n          <Tab value=''\n            active={current === \"sauce\"}\n            onClick={onTabClick(\"sauce\", sauceRef)}\n          >\n            \n          </Tab>\n          <Tab value=''\n            active={current === \"main\"}\n            onClick={onTabClick(\"main\", mainRef)}\n          >\n            \n          </Tab>\n        </div>\n        <section className={styles.options} ref={containerRef} onScroll={handleScroll}>\n          <>\n            <IngredientCategory\n              id=\"bun\"\n              title=\"\"\n              ingredients={bunsArr}\n              ref={bunsRef}\n              className={styles.smallsection}\n            />\n            <IngredientCategory\n              id=\"sauce\"\n              title=\"\"\n              ingredients={sauceArr}\n              ref={sauceRef}\n              className={styles.smallsection}\n            />\n            <IngredientCategory\n              id=\"main\"\n              title=\"\"\n              ingredients={mainArr}\n              ref={mainRef}\n              className={styles.smallsection}\n            />\n          </>\n        </section>\n      </section>\n    </> : null\n  );\n}","import React, { FC } from \"react\";\nimport { useSelector } from \"../../services/store\";\nimport styles from \"./order-details.module.css\";\n\nexport const OrderDetails:FC = () => {\n  const orderNum = useSelector((store) => store.ord.orderNum);\n\n  return (\n    <>\n      <p className={`${styles.title} text text_type_digits_large`}>\n        {orderNum}\n      </p>\n      <p className={`${styles.subtitle} text text_type_digits_medium`}>\n         \n      </p>\n      <div className={styles.check}></div>\n      <p className={`${styles.text} text text_type_main_default`}>\n           \n      </p>\n      <p\n        className={`${styles.text} text text_type_main_default text_color_inactive`}\n      >\n            \n      </p>\n    </>\n  );\n}\n","import React, { useRef, FC } from \"react\";\nimport { useDispatch } from '../../services/store';\nimport { useDrag, useDrop } from \"react-dnd\";\nimport { TBurgerElementProps } from \"../../utils/types\";\nimport { ConstructorElement, DragIcon } from \"../../../node_modules/@ya.praktikum/react-developer-burger-ui-components\";\nimport { updateIngredients } from \"../../services/actions\";\nimport styles from \"../burger-constructor/burger-constructor.module.css\";\n\nexport const BurgerElement:FC<TBurgerElementProps> = (props:TBurgerElementProps) => {\n  const dispatch = useDispatch();\n  const ref = useRef<HTMLLIElement>(null);\n  const { key, index } = props!;\n\n  const [{ isDrag }, drag] = useDrag({\n    type: \"item\",\n    item: () => {\n      return { key, index }\n    },\n    collect: (monitor) => ({\n      isDrag: monitor.isDragging(),\n    }),\n  });\n\n  const [, drop] = useDrop({\n    accept: \"item\",\n    hover(item:TBurgerElementProps, monitor) {\n      if (!ref.current) {\n        return;\n      }\n\n      const dragIndex = item.index!;\n      const hoverIndex = props.index;\n\n      if (dragIndex === hoverIndex) {\n        return;\n      }\n\n      const elementPos = ref.current.getBoundingClientRect();\n      const elementMiddle = (elementPos.bottom - elementPos.top) / 2;\n      const userCursorOffset = monitor!.getClientOffset()!.y - elementPos.top;\n\n      if (dragIndex! < hoverIndex && userCursorOffset < elementMiddle) {\n        return;\n      }\n      if (dragIndex! > hoverIndex && userCursorOffset > elementMiddle) {\n        return;\n      }\n      dispatch(updateIngredients(dragIndex!, hoverIndex!));\n      item.index = hoverIndex;\n    },\n  });\n\n  const opacity = isDrag ? 0.5 : 1;\n  drag(drop(ref));\n\n  return (\n    <li className={styles.component} ref={ref} style={{ opacity }}>\n      <DragIcon type='primary'></DragIcon>\n      <ConstructorElement\n        text={props.item.name}\n        price={props.item.price}\n        thumbnail={props.item.image}\n        handleClose={() => props.handleClose(props.item)}\n      />\n    </li>\n  );\n}","import React, { FC } from 'react';\nimport { useSelector } from '../../services/store';\nimport styles from './loader.module.css';\n\nexport const Loader:FC = () => {\n    const isLoading = useSelector((store) => store.ord.isLoading);\n    return <div className={isLoading ? styles.ldsring : styles.hidden} ><div></div><div></div><div></div><div></div></div>\n}","import React, { useEffect, useState, FC} from \"react\";\nimport { useDispatch, useSelector } from '../../services/store';\nimport { useHistory } from \"react-router-dom\";\nimport { useDrop } from \"react-dnd\";\n\nimport { CurrencyIcon, Button } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { ConstructorElement } from \"../../../node_modules/@ya.praktikum/react-developer-burger-ui-components\";\nimport { Modal } from \"../modal/modal\";\nimport { OrderDetails } from \"../order-details/order-details\";\nimport { BurgerElement } from \"../burger-element/burger-element\";\nimport { Loader } from \"../loader/loader\";\n\nimport { onDropHandler, deleteItem} from \"../../services/actions\";\nimport { openOrderModal, closeOrderModal } from \"../../services/actions/order\";\nimport { TIngredientData } from \"../../utils/types\";\nimport styles from \"./burger-constructor.module.css\";\n\nexport const BurgerConstructor:FC = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [totalPrice, setTotalPrice] = useState(0);\n  const userName = useSelector((store) => store.user.user.name);\n  const isLoading = useSelector((store) => store.ord.isLoading);\n  const modalOpen = useSelector((store) => store.ord.isModalOpen);\n\n  const { bun, content } = useSelector((store) => ({\n    bun: store.constr.burgerIngredients.bun,\n    content: store.constr.burgerIngredients.fillings,\n  }));\n\n  const dropHandler = (item:TIngredientData) => {\n    dispatch(onDropHandler(item));\n  };\n  const deleteHandler = (item:TIngredientData) => {\n    dispatch(deleteItem(item));\n  };\n\n  const [{ isOver, canDrop }, dropTarget] = useDrop(() => ({\n    accept: \"ingredient\",\n    drop: (item:TIngredientData) => {\n      dropHandler(item);\n    },\n    collect: monitor => ({ isOver: monitor.isOver(), canDrop: monitor.canDrop() }),\n  }));\n\n  const bunsPrice = bun && bun.price * 2;\n  const bunIdArr = bun && [`${bun._id}`];\n  const orderData =\n    bun &&\n    content &&\n    Array.from(content.map((el) => el._id))\n      .concat(bunIdArr!)\n      .concat(bunIdArr!);\n\n  const openModal = () => {\n      dispatch(openOrderModal(orderData!));\n  };\n  const redirectFunc = () => {\n    history.replace({ pathname: \"/login\" });\n  };\n\n  const closeAllModals = () => {\n    dispatch(closeOrderModal());\n  };\n\n  let total =\n    bun && bunsPrice\n      ? content.reduce(function(acc, obj) {\n          return acc + obj.price * obj.count;\n        }, bunsPrice)\n      : content.reduce(function(acc, obj) {\n          return acc + obj.price * obj.count;\n        }, 0);\n\n  useEffect(() => {\n    setTotalPrice(total);\n  }, [total, totalPrice, setTotalPrice]);\n\n  return (\n    <>\n      <div className={styles.components} ref={dropTarget}>\n        {!bun && content.length === 0 && (\n          <div className={styles.subtitle}>\n            <p className=\"text text_type_main-medium\">\n              ,       \n              \n            </p>\n          </div>\n        )}\n        {!bun && content.length > 0 && (\n          <p className={`${styles.subtitlebun} text text_type_main-medium`}>\n              {\" \"}\n            <span role=\"img\" aria-label=\"eyes\">\n              \n            </span>\n          </p>\n        )}\n        {bun && content.length === 0 && (\n          <p className={`${styles.subtitlemain} text text_type_main-medium`}>\n              {\" \"}\n            <span role=\"img\" aria-label=\"eyes\">\n              \n            </span>\n          </p>\n        )}\n        {bun && (\n          <div className={styles.component}>\n            <ConstructorElement\n              type=\"top\"\n              isLocked={true}\n              text={bun.name + \" ()\"}\n              price={bun.price}\n              thumbnail={bun.image}\n            />\n          </div>\n        )}\n        <ul className={`${styles.componentlist}`}>\n          {content.map(\n            (item, index) =>\n              item.count > 0 && (\n                <BurgerElement\n                  key={item.key}\n                  item={item}\n                  handleClose={() => deleteHandler(item)}\n                  index={index}\n                />\n              )\n          )}\n        </ul>\n        {bun && (\n          <>\n            <div className={styles.component}>\n              <ConstructorElement\n                type=\"bottom\"\n                isLocked={true}\n                text={bun.name + \" ()\"}\n                price={bun.price}\n                thumbnail={bun.image}\n              />\n            </div>\n          </>\n        )}\n        {content.length > 0 && bun && (\n          <>\n            <div className={styles.total}>\n              <div className={styles.text}>\n                <p className=\"text text_type_digits-medium\">{total}</p>\n              </div>\n              <CurrencyIcon type=\"primary\" />\n              <div className={styles.button}>\n                <Button\n                  type=\"primary\"\n                  htmlType=\"button\"\n                  size=\"medium\"\n                  onClick={userName.length > 0 ? openModal : redirectFunc}\n                >\n                  {!isLoading ? \" \" : \"...\"}\n                </Button>\n              </div>\n              <Loader />\n            </div>\n          </>\n        )}\n        {modalOpen && (\n          <Modal onClose={closeAllModals}>\n            <OrderDetails />\n          </Modal>\n        )}\n      </div>\n    </>\n  );\n}\n","import React, { useEffect, FC } from \"react\";\nimport { useDispatch, useSelector } from '../services/store';\nimport styles from \"./home.module.css\";\nimport { BurgerIngredients } from \"../components/burger-ingredients/burger-ingredients\";\nimport { BurgerConstructor } from \"../components/burger-constructor/burger-constructor\";\nimport { getUserInfo } from \"../services/actions/auth\";\nimport { wsConnectionStartAction, wsConnectionClosedAction} from \"../services/actions/ws\";\n\nexport const HomePage:FC = () => {\n  const dispatch = useDispatch();\n  const isLoading = useSelector((store) => store.data.isLoading);\n  \n  useEffect(() => { dispatch(getUserInfo()); }, [dispatch]);\n  useEffect(() => {\n    dispatch(\n      wsConnectionStartAction(\"wss://norma.nomoreparties.space/orders/all\")\n    );\n    return () => {\n      dispatch(wsConnectionClosedAction());\n    };\n  }, [dispatch]);\n  \n  return (\n        <main className={styles.content}>\n          {isLoading && (\n            <p className=\"text text_type_main-large\">...</p>\n          )}\n          <>\n            <BurgerIngredients />\n            <BurgerConstructor />\n          </>\n        </main>\n  );\n}\n","import React, { useState, FC } from \"react\";\nimport { Link, Redirect, useLocation } from \"react-router-dom\";\nimport { useDispatch, useSelector } from '../services/store';\nimport {\n  EmailInput,\n  PasswordInput,\n  Button\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { loginUser } from \"../services/actions/auth\";\nimport { TLocationState } from \"../utils/types\";\nimport styles from \"./login.module.css\";\n\nexport const LoginPage:FC = () => {\n  const dispatch = useDispatch();\n  const [emailValue, setEmailValue] = useState('');\n  const [passwordValue, setPasswordValue] = useState('');\n  const isUserAuthorized = useSelector((store) => store.user.isUserAuthorized);\n  const { state } = useLocation<TLocationState>();\n\n  const onPasswordChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setPasswordValue(e.target.value);\n  };\n  const onEmailChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setEmailValue(e.target.value);\n  };\n\n  const login = (e: React.FormEvent<HTMLFormElement>, emailValue:string, passwordValue:string) => {\n    e.preventDefault();\n    dispatch(loginUser(emailValue, passwordValue));\n  };\n\n  if (isUserAuthorized) {\n    return <Redirect to={\n      state?.from || \n      \"/\"} />;\n  }\n\n  return (\n    <div className={styles.container}>\n      <p className=\"text text_type_main-medium\"></p>\n      <form\n        className={styles.form}\n        onSubmit={(e) => login(e, emailValue, passwordValue)}\n      >\n        <div className={styles.email}>\n          <EmailInput\n            onChange={onEmailChange}\n            name={\"email\"}\n            value={emailValue}\n          />\n        </div>\n        <div className={styles.password}>\n          <PasswordInput\n            onChange={onPasswordChange}\n            name={\"password\"}\n            value={passwordValue}\n          />\n        </div>\n        <div className={styles.button}>\n          <Button htmlType=\"button\" type=\"primary\" size=\"large\">\n            \n          </Button>\n        </div>\n      </form>\n      <div className={styles.textcontainer}>\n        <p\n          className={`${styles.text} text text_type_main-default text_color_inactive`}\n        >\n           -  ?\n        </p>\n        <Link\n          to=\"/register\"\n          className={`${styles.activetext} text text_type_main-default`}\n        >\n          \n        </Link>\n      </div>\n      <div className={styles.textcontainer}>\n        <p\n          className={`${styles.text} text text_type_main-default text_color_inactive`}\n        >\n           ?\n        </p>\n        <Link\n          to=\"/forgot-password\"\n          className={`${styles.activetext} text text_type_main-default`}\n        >\n           \n        </Link>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useCallback, FC } from \"react\";\nimport { useDispatch } from '../services/store';\nimport { useHistory, Link } from \"react-router-dom\";\nimport { Input, EmailInput, PasswordInput, Button } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { registerUser } from \"../services/actions/auth\";\nimport styles from \"./register.module.css\";\n\nexport const RegisterPage:FC = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const [emailValue, setEmailValue] = useState<string>(\"E-mail\");\n  const [passwordValue, setPasswordValue] = useState(\"password\");\n  const [nameValue, setNameValue] = useState(\"\");\n\n  const onNameChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setNameValue(e.target.value);\n  };\n\n  const onPasswordChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setPasswordValue(e.target.value);\n  };\n  const onEmailChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setEmailValue(e.target.value);\n  };\n\n  const redirectOnSuccess = () => {\n    history.replace({\n      pathname: \"/\",\n      state: { from: \"/register\" },\n    });\n  };\n\n  const onRegisterClick = useCallback(\n    (e: React.FormEvent<HTMLFormElement>) => {\n      e.preventDefault();\n        dispatch(registerUser(nameValue, emailValue, passwordValue, redirectOnSuccess));\n    },\n    [emailValue, nameValue, passwordValue]\n  );\n\n  return (\n    <div className={styles.container}>\n      <p className={`${styles.title} text text_type_main-medium`}>\n        \n      </p>\n      <form className={styles.form} onSubmit={(e) => onRegisterClick(e)}>\n      <Input\n        type={\"text\"}\n        placeholder={\"\"}\n        onChange={onNameChange}\n        value={nameValue}\n        name={\"name\"}\n        error={false}\n        errorText={\"\"}\n        size={\"default\"}\n      />\n      <div className={styles.email}>\n        <EmailInput value={''} onChange={onEmailChange} name={\"email\"} />\n      </div>\n      <div className={styles.password}>\n        <PasswordInput\n          // className={styles.password}\n          onChange={onPasswordChange}\n          name={\"password\"}\n          value={''}\n        />\n      </div>\n      <div className={styles.button}>\n        <Button htmlType=\"button\" type=\"primary\" size=\"large\">\n          \n        </Button>\n      </div>\n      </form>\n      <div className={styles.textcontainer}>\n        <p\n          className={`${styles.text} text text_type_main-default text_color_inactive`}\n        >\n           ?\n        </p>\n        <Link\n          to=\"/login\"\n          className={`${styles.activetext} text text_type_main-default`}\n        >\n          \n        </Link>\n      </div>\n    </div>\n  );\n}\n","export const filterOrders = (arr:any) => {\n    return arr?.reduce(\n      (acc:any, curr:any) => {\n        curr.status === \"done\"\n          ? (acc.done = [...acc.done, curr])\n          : (acc.pending = [...acc.pending, curr]);\n        return acc;\n      },\n      { done: [], pending: [] }\n    );\n  };\n\nexport const editDate = (date:string) => {\n    const createdAt = new Date(date);\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    const diffTime = Math.ceil((today.getTime() - createdAt.getTime()) / (60 * 60 * 24 * 1000));\n    const hours = createdAt.getHours() > 9 ? createdAt.getHours() : `0${createdAt.getHours()}`;\n    const min = createdAt.getMinutes() > 9 ? createdAt.getMinutes() : `0${createdAt.getMinutes()}`;\n    const getDays = (days:number) => days === 0 ? \"\" : days === 1 ? \"\" : days > 1 ? `${days} (-) ` : \"\";\n    return `${getDays(diffTime)}, ${hours}:${min} i-GMT+${(createdAt.getTimezoneOffset() * -1) / 60}`;\n  };","import React, { useState, useEffect, FC } from \"react\";\nimport { useRouteMatch, useLocation, Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from '../../services/store';\nimport { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { selectOrderAction } from \"../../services/actions/feed\";\nimport { editDate } from \"../../utils/functions\";\nimport { TOrderCardProps } from \"../../utils/types\";\nimport styles from \"./ordercard.module.css\";\n\nexport const OrderCard:FC<TOrderCardProps> = (props:TOrderCardProps) => {\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const { url } = useRouteMatch();\n  const data = useSelector((store) => store.data.data);\n\n  const [price, setPrice] = useState(0);\n  const [count, setCount] = useState(0);\n  const [images, setImages] = useState<Array<string>>([]);\n\n  const imageQuantity = 5;\n  const dateString = editDate(props.order?.createdAt);\n  const select = () => dispatch(selectOrderAction(props.order));\n\n  let ingrData;\n\n  useEffect(() => {\n    let bun = false;\n    let targetImages:any[] = [];\n    let ingredients:Array<any> = props.order.ingredients;\n    props.order && ingredients && ingredients.forEach(ingredient => {\n      ingrData = data?.find((el) => el._id === ingredient);\n      if (ingredient === null) {\n        return\n      }\n        if (ingredient.type === 'bun' && !bun) {\n            bun = true;\n            targetImages.push(ingrData?.image);\n        }\n        if (ingredient.type !== 'bun') {\n            targetImages.push(ingrData?.image)\n        }\n    });\n    setImages(targetImages);\n    setCount(targetImages.length);\n}, [props.order?.ingredients]);\n\n  useEffect(() => {\n    if (data.length) {\n      let totalPrice = 0;\n      let targetIngredients = [];\n      let bun = false;\n      props.order && props.order.ingredients.forEach((ingredient:string) => {\n        ingrData = data?.find(el => el._id === ingredient);\n        if (ingrData?.price) {\n          targetIngredients.push(ingrData);\n          if (ingrData.type === \"bun\" && !bun) {\n            totalPrice += 2 * ingrData.price;\n            bun = true;\n          }\n          if (ingrData.type !== \"bun\") totalPrice += ingrData.price;\n        }\n      });\n      setPrice(totalPrice);\n    }\n  }, [data, props.order?.ingredients]);\n\n  return ( \n    <li className={styles.order} onClick={select} key={props.order?._id}>\n      <Link className={styles.link} to={{ pathname: `${url}/${props.order?._id}`, state: { background: location } }} >\n        <div className={styles.orderid}>\n          <p className={`${styles.id} text text_type_digits-default`}>{`#${props.order?.number}`}</p>\n          <p className={`${styles.timestamp} text text_type_main-small text_color_inactive`}>{dateString}</p>\n        </div>\n        <h3 className={`${styles.burgername} text text_type_main-default`}>{props.order?.name}</h3>\n        {url === \"/profile/order\" && (\n          <p className={`text text_type_main-small ${props.order?.status === \"done\" && styles.ready}`}>\n            {props.order?.status === \"created\" ? \"\" : props.order?.status === \"pending\" ? \"\" : \"\"}\n          </p>\n        )}\n        <div className={styles.componentandprice}>\n          <div className={styles.ingredients}>\n            {images.map((image, i) => {\n              let left = -i * 15;\n              if (i <= imageQuantity - 1)\n                return (\n                  <div key={i} className={styles.container} style={{ left: left, zIndex: 100 - i }}>\n                    <img className={styles.image} src={image} alt=\" \" />\n                  </div>\n                );\n              if (i === imageQuantity)\n                return (\n                  <div key={i} className={styles.container} style={{ left: left, zIndex: 100 - i }}>\n                    <p className={styles.count + \" text text_type_digits-default\"}>\n                      {\"+\" + (count - imageQuantity + 1)}\n                    </p>\n                    <img className={styles.image} style={{ opacity: 0.5 }} src={image} alt=\" \" />\n                  </div>\n                );\n              return false;\n            })}\n          </div>\n          <div className={styles.price}>\n            {price > 0 && <p className={`${styles.digits} text text_type_digits-default`}>\n              {price}\n            </p>}\n            <CurrencyIcon type=\"primary\" />\n          </div>\n        </div>\n      </Link>\n    </li>\n  );\n}\n","import React, { FC } from \"react\";\nimport { TStatsListProps } from \"../../utils/types\";\nimport styles from \"./statslist.module.css\";\n\nexport const StatsList:FC<TStatsListProps> = (props:TStatsListProps) => {\n  return (\n    <ul className={styles.list}>\n      {props.orders.length > 0 ? props.orders.map((order, index) => (\n        <li key={index}>\n          <p className={`text text_type_digits-default ${styles.element}`}>{order.number}</p>\n        </li>\n      )) : <div></div>}\n    </ul>\n  );\n}\n","import React, { useEffect, FC } from \"react\";\nimport styles from \"./feed.module.css\";\nimport { useDispatch, useSelector } from '../services/store';\nimport { OrderCard } from \"../components/ordercard/ordercard\";\nimport { StatsList } from \"../components/statslist/statslist\";\nimport { filterOrders } from \"../utils/functions\";\nimport {\n  wsConnectionClosedAction,\n  wsConnectionStartAction,\n} from \"../services/actions/ws\";\n\nexport const FeedPage:FC = () => {\n  const dispatch = useDispatch();\n  const { orders } = useSelector((store) => store.ws);\n  \n  const statusArrays = filterOrders(orders!.orders);\n  const doneArray = statusArrays?.done.slice(0, 30);\n  const pendingArray = statusArrays?.pending.slice(0, 30);\n\n  useEffect(() => {\n    dispatch(\n      wsConnectionStartAction(\"wss://norma.nomoreparties.space/orders/all\")\n    );\n    return () => {\n      dispatch(wsConnectionClosedAction());\n    };\n  }, [dispatch]);\n\n  return (\n    <>\n      <h2 className={`${styles.title} text text_type_main-large`}>\n         \n      </h2>\n      <div className={styles.content}>\n        <ul className={styles.orders}>\n          {orders &&\n            orders.orders.map((order) => <OrderCard order={order} key={order._id} />)}\n        </ul>\n        <div className={styles.ordernums}>\n          <div className={styles.completed}>\n            <div className={styles.types}>\n              <div className={styles.type}>\n                <p className={`${styles.subtitle} text text_type_main-default`}>\n                  :\n                </p>\n                <StatsList orders={doneArray} />\n              </div>\n              <div className={styles.type}>\n                <p className={`${styles.subtitle} text text_type_main-default`}>\n                   :\n                </p>\n                <StatsList orders={pendingArray} />\n              </div>\n            </div>\n          </div>\n          <div>\n            <p className={`${styles.subtitledone} text text_type_main-default`}>\n                 :\n            </p>\n            <p className={`${styles.digitslarge} text text_type_digits-large`}>\n              {orders?.total}\n            </p>\n          </div>\n          <div>\n            <p className={`${styles.subtitledone} text text_type_main-default`}>\n                :\n            </p>\n            <p className={`${styles.digitslarge} text text_type_digits-large`}>\n              {orders?.totalToday}\n            </p>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useState, FC } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useDispatch } from '../services/store';\nimport { PasswordInput, Input, Button } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { savePassword } from \"../services/actions/auth\";\nimport styles from \"./resetpassword.module.css\";\n\nexport const ResetPasswordPage:FC = () => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [passwordValue, setPasswordValue] = useState(\"\");\n  const [codeValue, setCodeValue] = useState(\"\");\n\n  const onPasswordChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setPasswordValue(e.target.value);\n  };\n\n  const onCodeChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setCodeValue(e.target.value);\n  };\n\n  const redirectOnSuccess = () => {\n    history.replace({\n      pathname: \"/login\",\n      state: { from: \"/reset-password\" },\n    });\n  };\n\n  const saveUserPassword = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    dispatch(savePassword(passwordValue, codeValue, redirectOnSuccess));\n    setPasswordValue(\"\");\n    setCodeValue(\"\");\n  };\n\n  return (\n    <div className={styles.container}>\n      <p className={`${styles.title} text text_type_main-medium`}>\n         \n      </p>\n      <form className={styles.form} onSubmit={(e) => saveUserPassword(e)}>\n      <div className={styles.password}>\n        <PasswordInput\n          // placeholder={\"  \"}\n          onChange={onPasswordChange}\n          value={passwordValue}\n          name={\"password\"}\n        />\n      </div>\n      <Input\n        type={\"text\"}\n        placeholder={\"   \"}\n        onChange={onCodeChange}\n        value={codeValue}\n        name={\"code\"}\n        error={false}\n        errorText={\"\"}\n        size={\"default\"}\n      />\n      <div className={styles.button}>\n        <Button htmlType=\"button\" type=\"primary\" size=\"large\">\n          \n        </Button>\n      </div>\n      </form>\n      <div className={styles.textcontainer}>\n        <p\n          className={`${styles.text} text text_type_main-default text_color_inactive`}\n        >\n           ?\n        </p>\n        <Link\n          to=\"/login\"\n          className={`${styles.activetext} text text_type_main-default`}\n        >\n          \n        </Link>\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, FC } from \"react\";\nimport { useDispatch, useSelector } from '../services/store';\nimport { OrderCard } from \"../components/ordercard/ordercard\";\nimport { wsConnectionStartAction, wsConnectionClosedAction } from '../services/actions/ws';\nimport { getCookie } from \"../services/actions/auth\";\nimport styles from \"./feed.module.css\";\n\nexport const Orders:FC = () => {\n  const dispatch = useDispatch();\n  const token = getCookie('token');\n  const wsUrl = `wss://norma.nomoreparties.space/orders` + `?token=${token}`;\n  let { orders } = useSelector((store) => store.ws);\n  const reversedorders = [...orders!.orders].reverse();\n  \n  useEffect(() => {\n    dispatch(wsConnectionStartAction(wsUrl));\n    return () => {\n      dispatch(wsConnectionClosedAction());\n    };\n  }, [dispatch, wsUrl]);\n\n  return ( orders && \n    <ul className={styles.orders}>\n      { reversedorders.map((el) => (\n        <OrderCard order={el} key={el._id} />\n      ))}\n    </ul>\n  );\n}\n","import React, { useState, useEffect, FC } from \"react\";\nimport { updateUser } from \"../services/actions/auth\";\nimport { useDispatch, useSelector } from '../services/store';\nimport {\n  Input,\n  EmailInput,\n  PasswordInput,\n  Button\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { TProfileFormProps } from \"../utils/types\";\nimport styles from \"./profile.module.css\";\n\nexport const EditProfile: FC = () => {\n\n  const [state, setState] = useState<TProfileFormProps>({ name: \"\", email: \"\", password: \"\", isValueChanged: false});\n  const dispatch = useDispatch();\n\n  const userName = useSelector((store) => store.user.user.name);\n  const userLogin = useSelector((store) => store.user.user.email);\n  const userPassword = useSelector((store) => store.user.user.password);\n\n  useEffect(() => {\n    setState((state) => {\n      return {\n        ...state,\n        name: userName,\n        email: userLogin,\n        password: userPassword,\n        isValueChanged: false,\n      };\n    });\n  }, [userName, userLogin, userPassword]);\n\n  const onNameChange = (e: React.ChangeEvent<HTMLInputElement>):void => {\n    setState({ ...state, name: e.target.value, isValueChanged: true });\n  };\n\n  const onPasswordChange = (e: React.ChangeEvent<HTMLInputElement>):void => {\n    setState({ ...state, password: e.target.value, isValueChanged: true });\n  };\n  const onLoginChange = (e: React.ChangeEvent<HTMLInputElement>):void => {\n    setState({ ...state, email: e.target.value, isValueChanged: true });\n  };\n  const onSave = (e: React.FormEvent<HTMLFormElement>):void => {\n    e.preventDefault();\n    dispatch(updateUser(state.email, state.name));\n  };\n\n  const onCancel = () => {\n    setState((state) => {\n      return {\n        ...state,\n        name: userName,\n        email: userLogin,\n        password: userPassword,\n        isValueChanged: false,\n      };\n    });\n  };\n  \n  return (\n    <form className={styles.form} onSubmit={(e) => onSave(e)}>\n      <div className={styles.input}>\n      <Input\n        type={\"text\"}\n        placeholder={\"\"}\n        onChange={onNameChange}\n        value={state.name || \"\"}\n        name={\"name\"}\n        icon={\"EditIcon\"}\n      />\n      </div>\n      <div className={styles.emailinput}>\n        <EmailInput\n          onChange={onLoginChange}\n          name={\"login\"}\n          value={state.email || \"\"}\n        />\n      </div>\n      <div className={styles.password}>\n        <PasswordInput\n          onChange={onPasswordChange}\n          name={\"password\"}\n          value={state.password || \"\"}\n        />\n      </div>\n      <span className={state.isValueChanged ? styles.visible : styles.hidden}>\n        <Button size=\"medium\" htmlType=\"button\" type=\"secondary\" onClick={onCancel}>\n          \n        </Button>\n        <Button size=\"medium\" htmlType=\"button\" type=\"primary\">\n          \n        </Button>\n      </span>\n    </form>\n  );\n}\n","import React, { useState, FC } from \"react\";\nimport { useDispatch } from '../services/store';\nimport { NavLink, Switch, Route, useRouteMatch } from \"react-router-dom\";\nimport { Orders } from \"./orders\";\nimport { EditProfile } from \"./editprofile\";\nimport { logoutUser } from \"../services/actions/auth\";\nimport styles from \"./profile.module.css\";\n\nexport const ProfilePage:FC = () => {\n  const dispatch = useDispatch();\n  const { path } = useRouteMatch();\n  const [isHistoryLinkActive, setHistoryLinkActive] = useState(false);\n  const logout = () => {\n    dispatch(logoutUser());\n  }\n\n  return (\n    <>\n      <div className={styles.container}>\n        <div className={styles.content}>\n\n          <div className={styles.navblock}>\n            <ul className={styles.navigation}>\n              <li>\n                <NavLink\n                  exact\n                  to=\"/profile\"\n                  className={`${styles.text} \n              'pt-4',\n              'pb-4',\n              'pr-5',\n              'mr-2',\n              'text text_type_main-medium text_color_inactive`}\n                  onClick={() => setHistoryLinkActive(false)}\n                  activeClassName={styles.textactive}\n                >\n                  <span></span>\n                </NavLink>\n              </li>\n              <li>\n                <NavLink\n                  exact\n                  to=\"/profile/orders\"\n                  className={`${styles.text} \n              'pt-4',\n              'pb-4',\n              'pr-5',\n              'mr-2',\n              'text text_type_main-medium text_color_inactive`}\n                  onClick={() => setHistoryLinkActive(true)}\n                  activeClassName={styles.textactive}\n                  id='orderhistory'\n                >\n                  <span> </span>\n                </NavLink>\n              </li>\n              <li>\n                <NavLink\n                  exact\n                  to=\"/login\"\n                  className={`${styles.text} \n              'pt-4',\n              'pb-4',\n              'pr-5',\n              'mr-2',\n              'text text_type_main-medium text_color_inactive`}\n                  activeClassName={styles.textactive}\n                  onClick={logout}\n                >\n                  <span></span>\n                </NavLink>\n              </li>\n            </ul>\n            <div className={styles.footer}>\n              <p\n                className={ !isHistoryLinkActive ? `${styles.subtext} text text_type_main-default text_color_inactive` : `${styles.disabledsubtext}`}\n              >\n                        .\n              </p>\n            </div>\n          </div>\n\n          <Switch>\n            <Route exact path={path} children={<EditProfile />} />\n            <Route exact path={`${path}/orders`} children={<Orders />} />\n          </Switch>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React from \"react\";\nimport styles from \"./details-page.module.css\";\nimport { TDetailsPageProps } from \"../../utils/types\";\n\nexport const DetailsPage = (props: TDetailsPageProps) => {\n  return (\n    <div className={styles.modal}>\n      <h3 className={styles.title}>{props.title}</h3>\n      {props.children}\n    </div>\n  );\n};","import React, { FC } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Logo,\n  BurgerIcon,\n  ListIcon,\n  ProfileIcon,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport styles from \"./app-header.module.css\";\n\nexport const AppHeader:FC = () => {\n\n  return (\n    <header className={styles.header}>\n      <ul className={styles.headernavigation}>\n        <li className={styles.headernav}>\n        <Link className={styles.headernav} to='/'>\n            <BurgerIcon type=\"secondary\" />\n            <div className={`${styles.icon} p-2`}>\n              \n            </div>\n            </Link>\n        </li>\n        <li className={styles.headernav}>\n          <Link className={styles.headernav} to='/feed'>\n            <ListIcon type=\"secondary\" />\n            <div className={`${styles.icon} p-2`}> </div>\n          </Link>\n        </li>\n        <Link className={styles.headernav} to='/'>\n        <li className={styles.headernav + \" \" + styles.headerlogo}>\n          <Logo />\n        </li>\n        </Link>\n        <li className={styles.headernav}>\n          <Link className={styles.headernav} to='/profile'>\n            <ProfileIcon type=\"secondary\" />\n            <div \n              className={`${styles.icon} p-2`}\n            >\n               \n            </div>\n          </Link>\n        </li>\n      </ul>\n    </header>\n  );\n}\n","import React, { useState, useEffect, FC } from \"react\";\nimport { useDispatch, useSelector } from '../services/store';\nimport { useParams, useRouteMatch } from \"react-router-dom\";\nimport { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { selectOrderAction } from \"../services/actions/feed\";\nimport { editDate } from \"../utils/functions\";\nimport { wsConnectionStartAction, wsConnectionClosedAction } from \"../services/actions/ws\";\nimport { getCookie } from \"../services/actions/auth\";\nimport { TOrder } from \"../utils/types\";\nimport { TIngredientData } from \"../utils/types\";\nimport { TIngredientDataArray } from \"../utils/types\";\nimport styles from \"./orderinfo.module.css\";\n\nexport const OrderInfoPage:FC<TIngredientDataArray> = (data:TIngredientDataArray) => {\n  const dispatch = useDispatch();\n  const { id } = useParams<{ id?: string }>();\n  const { url } = useRouteMatch();\n  const [price, setPrice] = useState(0);\n  const { currentOrder } = useSelector((store) => store.feed);\n  const { orders } = useSelector((store) => store.ws);\n  const done = currentOrder?.status === \"done\";\n  const dateString = editDate(currentOrder?.createdAt!);\n  const token = getCookie('token');\n  const wsUrl = 'wss://norma.nomoreparties.space/orders/all';\n  const wsAuthUrl = `wss://norma.nomoreparties.space/orders` + `?token=${token}`;\n\n  let ingrData;\n  let ingredients;\n  \n  ingredients = currentOrder?.ingredients;\n  \n  const uniqueArr = [...(ingredients !== undefined ? ingredients : []).reduce((mp, ingr) => {\n    if (!mp.has(ingr)) \n      mp.set(ingr, { ingr, count: 0 });\n      mp.get(ingr).count++;\n    return mp;\n  }, new Map()).values()];  \n\n  useEffect(() => {\n    url === `/profile/orders/${id}` ? dispatch(wsConnectionStartAction(wsAuthUrl)) : dispatch(wsConnectionStartAction(wsUrl));\n    return () => {\n      dispatch(wsConnectionClosedAction());\n    };\n  }, [dispatch]);\n\n\n  useEffect(() => {\n    const order = orders!.orders.find((order:TOrder) => order._id === id!);\n    order && dispatch(selectOrderAction(order));\n  }, [currentOrder, id, orders, dispatch]);\n\n  useEffect(() => {\n    if (data.data.length && uniqueArr) {\n      let totalPrice = 0;\n      let targetIngredients = [];\n      let bun = false;\n      uniqueArr.forEach((ingredient) => {\n        ingrData = data.data.find((el:TIngredientData) => el._id === ingredient.ingr);\n        if (ingrData?.price) {\n          targetIngredients.push(ingrData);\n          if (ingrData.type === \"bun\" && !bun) {\n            totalPrice += 2 * ingrData?.price;\n            bun = true;\n          }\n          if (ingrData.type !== \"bun\") totalPrice += ingrData?.price;\n        }\n      });\n      setPrice(totalPrice);\n    }\n  }, [data, ingredients]);\n\n  return (\n    <div className={styles.content}>\n      <p className={`${styles.ordernum} ${styles.id} text text_type_digits-default`}>\n        #{currentOrder?.number}\n      </p>\n      <p\n        className={`${styles.burgername} text text_type_main-default`}\n      >\n        {currentOrder?.name}\n      </p>\n      <p className={`${styles.subtext} text text_type_main-small`}>\n        {done ? \"\" : \"\"}\n      </p>\n      <div className={styles.ingredientsblock}>\n        <p className={`${styles.subtitle} text text_type_main-default`}>\n          :\n        </p>\n        <ul className={styles.ingredients}>\n          {uniqueArr && uniqueArr.map((ingr) => (\n            <li className={ingr.ingr === null ? styles.null : styles.ingredient} key={ingr.ingr}>\n              <div className={styles.imgcontainer}>\n                <img className={styles.img}\n                src={ingr && ingr.ingr && data && (data?.data.find((el:TIngredientData) => el._id === ingr.ingr)!).image} />\n                </div>\n              <div className={styles.text}>\n                <p className={`${styles.textname} text text_type_main-default`}>\n                  {ingr && ingr.ingr && data && (data.data.find((el:TIngredientData) => el._id === ingr.ingr)!).name}\n                </p>\n                <p\n                  className={`${styles.id} ${styles.smallprice} text text_type_digits-default`}\n                >\n                  {ingr.count} x{\" \"}\n                  {ingr && ingr.ingr && data && (data.data.find((el:TIngredientData) => el._id === ingr.ingr)!).price}\n                </p>\n              </div>\n              <div className={styles.price}>\n                <CurrencyIcon type='primary'/>\n              </div>\n            </li>\n          ))}\n        </ul>\n        <div className={styles.footer}>\n          <p\n            className={`${styles.timestamp} text text_type_main-small text_color_inactive`}\n          >\n            {dateString}\n          </p>\n          <div className={styles.price}>\n            <p\n              className={`${styles.id} ${styles.footerprice} text text_type_digits-default`}\n            >\n              {price}\n            </p>\n            <CurrencyIcon type='primary'/>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, FC } from \"react\";\nimport { Route, Switch, useHistory, useLocation } from \"react-router-dom\";\nimport { useDispatch, useSelector } from '../../services/store';\nimport { TLocationState } from \"../../utils/types\";\n\nimport { ProtectedRoute } from \"../protected-route\";\nimport { ForgotPasswordPage } from \"../../pages/forgot-password\";\nimport { HomePage } from \"../../pages/home\";\nimport { LoginPage } from \"../../pages/login\";\nimport { RegisterPage } from \"../../pages/register\";\nimport { FeedPage } from \"../../pages/feed\";\nimport { ResetPasswordPage } from \"../../pages/reset-password\";\nimport { ProfilePage } from \"../../pages/profile\";\nimport { DetailsPage } from \"../details-page/details-page\";\nimport { Modal } from \"../modal/modal\";\nimport { AppHeader } from \"../app-header/app-header\";\nimport { IngredientDetails } from \"../ingredient-details/ingredient-details\";\nimport { OrderInfoPage } from \"../../pages/orderinfo\";\n\nimport { setIngredientsData, closeCurrentIngredient } from \"../../services/actions\";\nimport styles from \"./app.module.css\";\n\ndeclare module 'react' {\n  interface FunctionComponent<P = {}> {\n    (props: PropsWithChildren<P>, context?: any): ReactElement<any, any> | null;\n  }\n}\n\nexport const App:FC = () => {\n  const location = useLocation<TLocationState>();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const data = useSelector((store) => store.data.data);\n  const isForgotPassword = useSelector((store) => store.user.isForgotPassword);\n  const isUserAuthorized = useSelector((store) => store.user.isUserAuthorized);\n  const background = location.state && location.state.background;\n\n  const closeAllModals = () => {\n    history.goBack();\n    dispatch(closeCurrentIngredient());\n  };\n\n  useEffect(() => {\n    dispatch(setIngredientsData());\n  }, []);\n\n  return (\n    <div className={styles.page}>\n      <section className={styles.App}>\n        <AppHeader />\n        <Switch location={background || location}>\n          <Route path=\"/\" exact={true}>\n            <HomePage />\n          </Route>\n          <Route path=\"/login\" exact={true}>\n            <LoginPage />\n          </Route>\n          <Route path=\"/register\" exact={true}>\n            <RegisterPage />\n          </Route>\n          <Route path=\"/feed\" exact={true}>\n            <FeedPage />\n          </Route>\n          {!isUserAuthorized && (\n            <Route path=\"/forgot-password\" exact={true}>\n              <ForgotPasswordPage />\n            </Route>\n          )}\n          {isForgotPassword && (\n            <Route path=\"/reset-password\" exact={true}>\n              <ResetPasswordPage />\n            </Route>\n          )}\n          <Route path=\"/ingredients/:id\" exact={true}>\n            <DetailsPage title=\" \">\n              <IngredientDetails data={data} />\n            </DetailsPage>\n          </Route>\n          <Route path=\"/profile/orders/:id\" exact={true} > \n            <OrderInfoPage data={data}  /> \n          </Route>\n          <Route path=\"/feed/:id\" >\n            <OrderInfoPage data={data} /> \n          </Route>\n          <ProtectedRoute path=\"/profile\">\n            <ProfilePage />\n          </ProtectedRoute>\n        </Switch>\n        {background && (\n          <>\n            <Route\n              path=\"/feed/:id\"\n              children={\n                <Modal onClose={closeAllModals}>\n                  <OrderInfoPage data={data} />\n                </Modal>\n              }\n            />\n            <ProtectedRoute\n              path=\"/profile/orders/:id\"\n              children={\n                <Modal onClose={closeAllModals}>\n                  <OrderInfoPage data={data} />\n                </Modal>\n              }\n            />\n            <Route\n              path=\"/ingredients/:id\"\n              children={\n                <Modal title=\" \" onClose={closeAllModals}>\n                  <IngredientDetails data={data} />\n                </Modal>\n              }\n            />\n          </>\n        )}\n      </section>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./components/app/app\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./services/store\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport { DndProvider } from \"react-dnd\";\nimport { BrowserRouter} from \"react-router-dom\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <DndProvider backend={HTML5Backend}>\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <App />\n      </BrowserRouter>\n    </DndProvider>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"login_container__3BdxE\",\"email\":\"login_email__3LE6A\",\"password\":\"login_password__49V3B\",\"button\":\"login_button__CN8ce\",\"text\":\"login_text__3nrM0\",\"activetext\":\"login_activetext__2t1ld\",\"textcontainer\":\"login_textcontainer__-J9Z4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"maintitle\":\"burger-ingredients_maintitle__MOxwz\",\"optionselection\":\"burger-ingredients_optionselection__22lsl\",\"options\":\"burger-ingredients_options__3xWHF\",\"optioncard\":\"burger-ingredients_optioncard__34fli\",\"optiontext\":\"burger-ingredients_optiontext__2Um3m\",\"link\":\"burger-ingredients_link__2-zFo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"register_title__NgYUJ\",\"container\":\"register_container__1lbFB\",\"email\":\"register_email__1l_yk\",\"password\":\"register_password__x9EK1\",\"button\":\"register_button__2NR0v\",\"text\":\"register_text__1_s1Z\",\"activetext\":\"register_activetext__3RZQn\",\"textcontainer\":\"register_textcontainer__U7E8m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"forgotpassword_title__1mhR_\",\"text\":\"forgotpassword_text__10YqQ\",\"container\":\"forgotpassword_container__1KP3a\",\"email\":\"forgotpassword_email__WQXw8\",\"password\":\"forgotpassword_password__2V6T1\",\"button\":\"forgotpassword_button__3aImp\",\"activetext\":\"forgotpassword_activetext__1aowv\",\"textcontainer\":\"forgotpassword_textcontainer__1pmPZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"resetpassword_container__1H2cS\",\"email\":\"resetpassword_email__3_ArC\",\"password\":\"resetpassword_password__Bi0IQ\",\"button\":\"resetpassword_button__1edpD\",\"text\":\"resetpassword_text__1lFCu\",\"activetext\":\"resetpassword_activetext___XEzC\",\"textcontainer\":\"resetpassword_textcontainer__jmSyO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"order-details_title__FoYOr\",\"subtitle\":\"order-details_subtitle__3Rj6T\",\"check\":\"order-details_check__3gXTO\",\"text\":\"order-details_text__ZLZ7C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__1DF1f\",\"ordermodal\":\"modal_ordermodal__2tVnA\",\"closebutton\":\"modal_closebutton__1FOE3\",\"title\":\"modal_title__1efUU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"ingredient-category_title__3ntQ2\",\"optionscards\":\"ingredient-category_optionscards__28YGf\",\"link\":\"ingredient-category_link__3y5P1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ldsring\":\"loader_ldsring__2S04-\",\"lds-ring\":\"loader_lds-ring__2B4UI\",\"hidden\":\"loader_hidden__3nokz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"statslist_list__3zMv0\",\"element\":\"statslist_element__3tz1m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"details-page_modal__2wWbI\",\"title\":\"details-page_title__19T3H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"app_page__xu4mx\",\"App\":\"app_App__3t73x\"};"],"sourceRoot":""}